(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[4673],{85531:(e,n,t)=>{"use strict";t.d(n,{y:()=>p,eA:()=>f,gk:()=>v});var a=t(82240),r=(t(33938),t(63109),t(51445)),o=t.n(r),s=t(4857),i=t(68197),c=t(90364),l=t(34566),u=t(25108);var d="dapp#init/reload";function p(e){window.addEventListener(d,o()(h).call(h,e))}function f(){window.removeEventListener(d,h)}function v(){window.dispatchEvent(new CustomEvent(d))}function h(){var e=this,n=e.dispatch;u.log(">>>>>>>>>>>>>>dappInitReloadEvent>>>>>",e),window.tronWeb?(n&&n((0,c.O0)(!0)),(0,l.e3)(e)):(n&&n((0,i.RZ)("No tron enviroment detected.","DApp initialize loading.")),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.Z.show({icon:"fail",content:e,duration:s.e6})}("No tron enviroment detected."))}},34566:(e,n,t)=>{"use strict";t.d(n,{dy:()=>U,e3:()=>K});var a=t(89356),r=t.n(a),o=t(63263),s=t.n(o),i=t(30699),c=t.n(i),l=t(58377),u=t.n(l),d=t(28834),p=t.n(d),f=t(13038),v=t.n(f),h=t(32752),b=t.n(h),m=t(44341),w=t.n(m),x=t(44845),y=t(33938),g=t(88066),j=t.n(g),k=t(63109),N=t.n(k),Z=t(13870),A=t(69617),P=t(15338),L=t(27897),B=t(11770),T=t(75626),S=t(4311),W=t(79612),C=t(90364),D=t(68197),R=t(96934),_=t(25108);function E(e,n){var t=r()(e);if(s()){var a=s()(e);n&&(a=c()(a).call(a,(function(n){return u()(e,n).enumerable}))),t.push.apply(t,a)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t,a=null!=arguments[n]?arguments[n]:{};if(n%2)p()(t=E(Object(a),!0)).call(t,(function(n){(0,x.Z)(e,n,a[n])}));else if(v())b()(e,v()(a));else{var r;p()(r=E(Object(a))).call(r,(function(n){w()(e,n,u()(a,n))}))}}return e}function U(e){return F.apply(this,arguments)}function F(){return(F=(0,y.Z)(N().mark((function e(n){var t,a,r,o,s,i,c,l,u,d,p,f,v,h;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={connected:!1},!(a=(0,S.Fx)())){e.next=11;break}return t.connected=Boolean(a),e.next=6,(0,S.t5)(window.tp);case 6:r=e.sent,s=(o=r||{}).walletName,i=o.walletType,c=o.walletVer,l=o.walletChainKey,o.selectedAccountName,o.selectedAddress,n((0,C.uW)({walletName:s,walletType:i,walletVer:c,walletChainKey:l})),e.next=13;break;case 11:tronWeb.request({method:"tron_requestAccounts"}).then((function(e){t.connected=!(!e||200!==e.code),n((0,C.MA)(t.connected))})),tronWeb.isConnected().then((function(e){n((0,D.RZ)(e))}));case 13:if(window.tronWeb.isTronLink&&(t.walletType=T.pX,n((0,C.Y7)("tronLink")),n((0,C.hb)(T.pX))),!tronWeb.defaultAddress||!tronWeb.defaultAddress.base58){e.next=24;break}return u=tronWeb.defaultAddress,d=u.base58,p=u.name,f=u.hex,u.type,d&&n((0,C.DE)(p,d,f)),e.next=19,tronWeb.trx.getBalance(d);case 19:v=e.sent,n((0,W.IP)(v)),h=window.tronWeb.fullNode&&window.tronWeb.fullNode.host?window.tronWeb.fullNode.host:"",n((0,C.Eo)(h)),t=I(I({},t),{},{base58:d,name:p,trxBalance:v,nodeUrl:h});case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=(0,y.Z)(N().mark((function e(n){var t,a,r,o,s,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.EA)();case 2:t=e.sent,a=t.trxweb,r=t.chainKey,o=t.tpNodeUrl,n((0,C.CX)(r)),n((0,C.My)(o)),s=a.fullNode&&a.fullNode.host?a.fullNode.host:"current no nodeURL",R.BS&&((i={tpNodeUrl:o,cacheCurrNodeUrl:s}).defaultAddress=a.defaultAddress||"",n((0,D.RZ)(i,"This an debug Message."))),(0,Z.wY)(a,r).then((function(e){n((0,W.lw)(e)),n((0,W.Nv)())})).catch((function(e){var t;n((0,D.RZ)(e,j()(t="load BFB balance fail. at chain ".concat(r," - ")).call(t,s)))})),(0,P.B_)(a,r).then((function(e){var t=e||{},a=t.bfbPlpTotalSupply,r=t.bfbPLpBalance,o=t.plpApproval,s=t.approvedAddresss;n((0,W.lw)({bfbPlpTotalSupply:a,bfbPLpBalance:r})),n((0,W.kI)({plpApproval:o,approvedAddresss:s})),n((0,W.Nv)())})).catch((function(e){_.log("queryBFBTokenInfoForDAppLoad>>>",e),n((0,D.RZ)(e,"load BFB PLP info fail,chain ".concat(r)))})),(0,L.KU)(a,r).then((function(e){var t=e||{},a=t.bfbLpTotalSupply,r=t.bfbLpBalance,o=t.lpApproval,s=t.approvedAddresss;n((0,W.lw)({bfbLpTotalSupply:a,bfbLpBalance:r})),n((0,W.kI)({lpApproval:o,approvedAddresss:s})),n((0,W.Nv)())})).catch((function(e){_.log("queryLPTokenInfoForDAppLoad>>>",e),n((0,D.RZ)(e,"load BFB LP info fail ,chain ".concat(r)))})),(0,B.Uj)(a,r).then((function(e){var t=e||{},a=t.PLPPoolTotal,r=t.LPPoolTotal,o=t.bfbWithDrawPause,s=t.parentWithDrawPause,i=t.myDepositPLPAmount,c=t.myDepositLPAmount;n((0,W.lw)({PLPPoolTotal:a,LPPoolTotal:r,myDepositPLPAmount:i,myDepositLPAmount:c,ctrl:{bfbWithDrawPause:o,parentWithDrawPause:s}})),n((0,W.Nv)())})).catch((function(e){n((0,D.RZ)(e,"load Deposit Mining info fail,chain ".concat(r)))}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){var n=e.dispatch;U(n).then((function(e){return _.log(">>initialTrxBase>>>>",e)})).catch((function(e){n((0,D.RZ)(e,"Load DApp Trx Base fail."))})),function(e){return M.apply(this,arguments)}(n).catch((function(e){n((0,D.RZ)(e,"Load DApp Biz Base fail."))}))}},59188:(e,n,t)=>{"use strict";t.d(n,{d:()=>o});t(67294);var a=t(55168),r=t(85893);function o(e){(0,a.k6)();return(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"Test"})})}},97363:(e,n,t)=>{"use strict";t.d(n,{R:()=>R});var a=t(33938),r=t(45567),o=t(63109),s=t.n(o),i=t(67294),c=t(85518),l=t(82100),u=t(55168),d=t(17563),p=t(3666),f=t(96934),v=t(52159),h=t(93806),b=t(5562),m=t(50047),w=t.n(m),x=t(8803),y=t(28850),g=t(79949),j=[{label:"Home",pathname:"/index",icon:"brave-index-colorful"},{label:"Deposit",pathname:"/p/deposit",icon:"brave-deposit"},{label:"Invite",pathname:"/p/invite",icon:"brave-invite"},{label:"Profile",pathname:"/p/profile",icon:"brave-bfb_pool"}],k=t(82240),N=t(74855),Z=t(28883),A=t(85893);function P(e){var n=e.className,t=void 0===n?"":n,a=(e.hasProvider,e.braveIconType),o=void 0===a?"":a,s=(0,i.useState)("0"),c=(0,r.Z)(s,2),u=c[0],d=c[1],p=(0,l.v9)((function(e){return e.wallState})),f=p.selectedAddress,h=p.blockchainKey,b=(0,l.v9)((function(e){return e.balState||{}})),m=(b.trxBalance,b.bfbBalance);return(0,i.useEffect)((function(){var e=m&&m.toString?m.toString():"0",n=(0,Z.Pj)(e,{blockchainKey:h});d(n)}),[m]),(0,A.jsxs)("div",{className:"brv-popupbar ".concat(t),children:[(0,A.jsx)("div",{className:"brv-popupbar-icon",children:o&&(0,A.jsx)(y.Z,{type:"brave-".concat(o)})}),(0,A.jsxs)("div",{className:"brv-popupbar-acclayout",children:[(0,A.jsx)("span",{className:"balance-valt",children:u}),(0,A.jsxs)("div",{className:"address-row",children:[(0,A.jsx)("span",{className:"address-short",children:f?(0,v.VE)(f):"No account"}),f&&(0,A.jsx)(N.CopyToClipboard,{text:f,onCopy:function(){k.Z.show({content:"copied",duration:1500})},children:(0,A.jsx)(y.Z,{type:"brave-copy-colorful",style:{marginLeft:"4px"}})})]})]})]})}function L(e){var n=e.popupClassName,t=void 0===n?"":n,o=(0,u.k6)(),d=(0,u.TH)(),p=(0,i.useState)(!1),m=(0,r.Z)(p,2),k=m[0],N=m[1],Z=(0,i.useState)(!1),L=(0,r.Z)(Z,2),B=L[0],T=L[1],S=(0,l.v9)((function(e){return e.skinState})),W=S.isDarkTheme,C=S.debugActived;function D(){return(D=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!k);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,i.useEffect)((0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.BS&&C&&T(!0),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[C]);var R=(0,v.Rt)(t&&"string"==typeof t?t:"brv-side-popuper",{isBrowser:c.jU,isMobile:c.tq},[W?"dark-specil-popup":"light-specil-popup"]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.Z,{fontSize:18,onClick:function(){return D.apply(this,arguments)}}),(0,A.jsxs)(h.Z,{visible:k,position:"left",bodyClassName:R,onMaskClick:function(){return N(!1)},bodyStyle:{width:c.jU?"45vw":"62.5vw"},children:[(0,A.jsx)(P,{className:"brv-side__head",braveIconType:"bf"}),(0,A.jsx)("div",{className:"brv-menus",children:(0,A.jsxs)(b.Z,{className:"brv-navmenu-list",children:[w()(j).call(j,(function(e){return(0,A.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,A.jsx)(y.Z,{type:e.icon}),onClick:function(){N(!1),d.pathname!==e.pathname&&o.push(e.pathname)},arrow:!1,children:(0,A.jsx)("span",{className:d.pathname===e.pathname?"nav-menu-actived":"",children:e.label})},e.pathname)})),B&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,A.jsx)(y.Z,{type:"brave-debug"}),onClick:function(){N(!1),"/debug"!==d.pathname&&o.push("/debug")},arrow:!1,children:(0,A.jsx)("span",{className:"/debug"===d.pathname?"nav-menu-actived":"",children:"Debug"})},"/debug"),(0,A.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,A.jsx)(y.Z,{type:"brave-log"}),onClick:function(){N(!1),"/debug/log"!==d.pathname&&o.push("/debug/log")},arrow:!1,children:(0,A.jsx)("span",{className:"/debug/log"===d.pathname?"nav-menu-actived":"",children:"Logs"})},"/debug/log")]}),(0,A.jsx)(g.R,{})]})})]})]})}var B=t(79922);function T(e){var n=e.size,t=void 0===n?36:n,a=(0,u.k6)();return(0,A.jsx)("div",{className:"brv-head__logo",children:(0,A.jsx)("img",{src:B,fit:"cover",width:t,height:t,onClick:function(){a.push("/index")}})})}var S=t(13305),W=t(56036),C=t(65757),D=t(68197);function R(e){var n=(0,u.TH)(),t=(0,l.I0)(),o=(0,i.useState)(f.xw),h=(0,r.Z)(o,2),b=h[0],m=(h[1],(0,v.Rt)("brv-head",{isBrowser:c.jU,isMobile:c.tq})),w=(0,l.v9)((function(e){return e.skinState.head||{}})).headTitle,x=(0,l.v9)((function(e){return e.wallState})).selectedAddress,y=function(){var e=(0,a.Z)(s().mark((function e(){var a,r,o,i,c,l,u,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=x,window.tronWeb&&window.tronWeb.defaultAddress&&window.tronWeb.defaultAddress.base58&&(a=window.tronWeb.defaultAddress.base58),r=(0,W._8)(a),n.search&&(o=d.parse(n.search),c=(i=o||{}).debug,l=void 0===c?"":c,u=i.inviter,f=void 0===u?"":u,"actived"===l&&t((0,S.s2)(!0)),!r&&f&&(0,p.isAddress)(f)&&(r=(0,W.Xi)(f,a),t((0,C.u)(r))),f&&"reset"===f&&((0,W.bv)(a),t((0,C.u)("")),(0,D.dZ)("Reset inviter with url search: ".concat(n.search),"reset inviter")),f&&!(0,p.isAddress)(f)&&"reset"!==f&&t((0,D.RZ)("Inviter address ".concat(f," illegal."),"set inviter with url"))),t((0,C.u)(r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[w]),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:m,children:[(0,A.jsx)("div",{className:"brv-head__left",children:(0,A.jsx)(T,{size:36})}),(0,A.jsx)("div",{className:"brv-head__title",children:b}),(0,A.jsx)("div",{className:"brv-head__right",children:(0,A.jsx)(L,{})})]})})}},47604:(e,n,t)=>{"use strict";var a=t(73935),r=t(13535),o=t.n(r),s=t(68420),i=t(27344),c=t(90306),l=t(22310),u=t(3362),d=t(54579),p=t.n(d),f=t(67294),v=t(82100),h=t(73727),b=t(59731),m=t(29421),w=t(82490),x=(t(34566),t(59420),t(68197),t(85531)),y=t(85893);function g(e){var n=function(){if("undefined"==typeof Reflect||!o())return!1;if(o().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,u.Z)(e);if(n){var r=(0,u.Z)(this).constructor;t=o()(a,arguments,r)}else t=a.apply(this,arguments);return(0,l.Z)(this,t)}}var j=(0,b.lX)(),k=(0,m.Z)(m.E,j);const N=function(e){(0,c.Z)(t,e);var n=g(t);function t(e){var a;return(0,s.Z)(this,t),(a=n.call(this,e)).state={},a}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){!!k.getState().skinState&&k.getState().skinState.isDarkTheme?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),(0,x.y)(k),p()((function(){(0,x.gk)()}),3e3)}},{key:"componentWillUnmount",value:function(){(0,x.eA)()}},{key:"render",value:function(){return(0,y.jsx)(v.zt,{store:k,children:(0,y.jsx)(h.VK,{history:j,children:(0,y.jsx)(w.E,{})})})}}]),t}(f.Component);t(49541);a.render((0,y.jsx)(N,{}),document.getElementById("root"))},79922:(e,n,t)=>{"use strict";e.exports=t.p+"50f836e9bc474700b507.png"},46601:()=>{},89214:()=>{}}]);