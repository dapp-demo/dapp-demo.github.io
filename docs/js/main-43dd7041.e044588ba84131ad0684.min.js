(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[4673],{34566:(e,n,t)=>{"use strict";t.d(n,{dy:()=>I,e3:()=>F});var a=t(89356),r=t.n(a),o=t(63263),s=t.n(o),i=t(30699),c=t.n(i),l=t(58377),u=t.n(l),d=t(28834),p=t.n(d),f=t(13038),v=t.n(f),h=t(32752),b=t.n(h),m=t(44341),x=t.n(m),w=t(44845),y=t(33938),g=t(63109),j=t.n(g),k=(t(85518),t(34642),t(13870)),Z=t(69617),A=(t(11089),t(15338)),N=t(27897),P=t(11770),L=t(75626),B=t(4311),T=t(79612),D=t(90364),S=t(68197),C=t(25108);function W(e,n){var t=r()(e);if(s()){var a=s()(e);n&&(a=c()(a).call(a,(function(n){return u()(e,n).enumerable}))),t.push.apply(t,a)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t,a=null!=arguments[n]?arguments[n]:{};if(n%2)p()(t=W(Object(a),!0)).call(t,(function(n){(0,w.Z)(e,n,a[n])}));else if(v())b()(e,v()(a));else{var r;p()(r=W(Object(a))).call(r,(function(n){x()(e,n,u()(a,n))}))}}return e}function I(e){return R.apply(this,arguments)}function R(){return(R=(0,y.Z)(j().mark((function e(n){var t,a,r,o,s,i,c,l,u,d,p,f,v;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={connected:!1},!(a=(0,B.Fx)())){e.next=11;break}return t.connected=Boolean(a),e.next=6,(0,B.t5)(window.tp);case 6:r=e.sent,s=(o=r||{}).walletName,i=o.walletType,c=o.walletVer,l=o.walletChainKey,o.selectedAccountName,o.selectedAddress,n((0,D.uW)({walletName:s,walletType:i,walletVer:c,walletChainKey:l})),e.next=13;break;case 11:tronWeb.request({method:"tron_requestAccounts"}).then((function(e){e.connected=Boolean(e&&200===e.code),n((0,D.MA)(e.connected))})),tronWeb.isConnected().then((function(e){n((0,S.RZ)(e))}));case 13:if(window.tronWeb.isTronLink&&(t.walletType=L.pX,n((0,D.Y7)("tronLink")),n((0,D.hb)(L.pX))),!tronWeb.defaultAddress||!tronWeb.defaultAddress.base58){e.next=22;break}return u=tronWeb.defaultAddress,d=u.base58,p=u.name,f=u.hex,u.type,d&&n((0,D.DE)(p,d,f)),e.next=19,tronWeb.trx.getBalance(d);case 19:v=e.sent,n((0,T.IP)(v)),t=_(_({},t),{},{base58:d,name:p,trxBalance:v});case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=(0,y.Z)(j().mark((function e(n){var t,a,r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.EA)();case 2:t=e.sent,a=t.trxweb,r=t.chainKey,n((0,D.CX)(r)),(0,k.wY)(a,r).then((function(e){n((0,T.lw)(e)),n((0,T.Nv)())})).catch((function(e){n((0,S.RZ)(e,"load BFB balance fail"))})),(0,A.B_)(a,r).then((function(e){var t=e||{},a=t.bfbPlpTotalSupply,r=t.bfbPLpBalance,o=t.plpApproval,s=t.approvedAddresss;n((0,T.lw)({bfbPlpTotalSupply:a,bfbPLpBalance:r})),n((0,T.kI)({plpApproval:o,approvedAddresss:s})),n((0,T.Nv)())})).catch((function(e){C.log("queryBFBTokenInfoForDAppLoad>>>",e),n((0,S.RZ)(e,"load BFB PLP info fail"))})),(0,N.KU)(a,r).then((function(e){var t=e||{},a=t.bfbLpTotalSupply,r=t.bfbLpBalance,o=t.lpApproval,s=t.approvedAddresss;n((0,T.lw)({bfbLpTotalSupply:a,bfbLpBalance:r})),n((0,T.kI)({lpApproval:o,approvedAddresss:s})),n((0,T.Nv)())})).catch((function(e){C.log("queryLPTokenInfoForDAppLoad>>>",e),n((0,S.RZ)(e,"load BFB LP info fail"))})),(0,P.Uj)(a,r).then((function(e){var t=e||{},a=t.PLPPoolTotal,r=t.LPPoolTotal,o=t.bfbWithDrawPause,s=t.parentWithDrawPause,i=t.myDepositPLPAmount,c=t.myDepositLPAmount;n((0,T.lw)({PLPPoolTotal:a,LPPoolTotal:r,myDepositPLPAmount:i,myDepositLPAmount:c,ctrl:{bfbWithDrawPause:o,parentWithDrawPause:s}})),n((0,T.Nv)())})).catch((function(e){C.log("queryMiningInfoForDAppLoad>>>",e),n((0,S.RZ)(e,"load Deposit Mining info fail"))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){var n=e.dispatch;I(n).then((function(e){return C.log(">>initialTrxBase>>>>",e)})).catch((function(e){C.log("Load Trx Fail ",e),n((0,S.RZ)(e,"Load DApp Trx Base fail."))})),function(e){return E.apply(this,arguments)}(n).catch((function(e){C.log("Load DApp Biz",e),n((0,S.RZ)(e,"Load DApp Biz Base fail."))}))}},59188:(e,n,t)=>{"use strict";t.d(n,{d:()=>o});t(67294);var a=t(55168),r=t(85893);function o(e){(0,a.k6)();return(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"Test"})})}},97363:(e,n,t)=>{"use strict";t.d(n,{R:()=>q});var a=t(33938),r=t(45567),o=t(51445),s=t.n(o),i=t(54579),c=t.n(i),l=t(63109),u=t.n(l),d=t(67294),p=t(85518),f=t(82100),v=t(55168),h=t(17563),b=t(3666),m=t(96934),x=t(52159),w=t(93806),y=t(5562),g=t(50047),j=t.n(g),k=t(8803),Z=t(28850),A=t(79949),N=[{label:"Home",pathname:"/index",icon:"brave-index-colorful"},{label:"Deposit",pathname:"/p/deposit",icon:"brave-deposit"},{label:"Invite",pathname:"/p/invite",icon:"brave-invite"},{label:"Profile",pathname:"/p/profile",icon:"brave-bfb_pool"}],P=t(82240),L=t(74855),B=t(28883),T=t(85893);function D(e){var n=e.className,t=void 0===n?"":n,a=(e.hasProvider,e.braveIconType),o=void 0===a?"":a,s=(0,d.useState)("0"),i=(0,r.Z)(s,2),c=i[0],l=i[1],u=(0,f.v9)((function(e){return e.wallState})),p=u.selectedAddress,v=u.blockchainKey,h=(0,f.v9)((function(e){return e.balState||{}})),b=(h.trxBalance,h.bfbBalance);return(0,d.useEffect)((function(){var e=b&&b.toString?b.toString():"0",n=(0,B.Pj)(e,{blockchainKey:v});l(n)}),[b]),(0,T.jsxs)("div",{className:"brv-popupbar ".concat(t),children:[(0,T.jsx)("div",{className:"brv-popupbar-icon",children:o&&(0,T.jsx)(Z.Z,{type:"brave-".concat(o)})}),(0,T.jsxs)("div",{className:"brv-popupbar-acclayout",children:[(0,T.jsx)("span",{className:"balance-valt",children:c}),(0,T.jsxs)("div",{className:"address-row",children:[(0,T.jsx)("span",{className:"address-short",children:p?(0,x.VE)(p):"No account"}),p&&(0,T.jsx)(L.CopyToClipboard,{text:p,onCopy:function(){P.Z.show({content:"copied",duration:1500})},children:(0,T.jsx)(Z.Z,{type:"brave-copy-colorful",style:{marginLeft:"4px"}})})]})]})]})}function S(e){var n=e.popupClassName,t=void 0===n?"":n,o=(0,v.k6)(),s=(0,v.TH)(),i=(0,d.useState)(!1),c=(0,r.Z)(i,2),l=c[0],h=c[1],b=(0,d.useState)(!1),g=(0,r.Z)(b,2),P=g[0],L=g[1],B=(0,f.v9)((function(e){return e.skinState})),S=B.isDarkTheme,C=B.debugActived;function W(){return(W=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!l);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,d.useEffect)((0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.BS&&C&&L(!0),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[C]);var _=(0,x.Rt)(t&&"string"==typeof t?t:"brv-side-popuper",{isBrowser:p.jU,isMobile:p.tq},[S?"dark-specil-popup":"light-specil-popup"]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(k.Z,{fontSize:18,onClick:function(){return W.apply(this,arguments)}}),(0,T.jsxs)(w.Z,{visible:l,position:"left",bodyClassName:_,onMaskClick:function(){return h(!1)},bodyStyle:{width:p.jU?"45vw":"62.5vw"},children:[(0,T.jsx)(D,{className:"brv-side__head",braveIconType:"bf"}),(0,T.jsx)("div",{className:"brv-menus",children:(0,T.jsxs)(y.Z,{className:"brv-navmenu-list",children:[j()(N).call(N,(function(e){return(0,T.jsx)(y.Z.Item,{className:"brv-navmenu-item",prefix:(0,T.jsx)(Z.Z,{type:e.icon}),onClick:function(){h(!1),s.pathname!==e.pathname&&o.push(e.pathname)},arrow:!1,children:(0,T.jsx)("span",{className:s.pathname===e.pathname?"nav-menu-actived":"",children:e.label})},e.pathname)})),P&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.Z.Item,{className:"brv-navmenu-item",prefix:(0,T.jsx)(Z.Z,{type:"brave-debug"}),onClick:function(){h(!1),"/debug"!==s.pathname&&o.push("/debug")},arrow:!1,children:(0,T.jsx)("span",{className:"/debug"===s.pathname?"nav-menu-actived":"",children:"Debug"})},"/debug"),(0,T.jsx)(y.Z.Item,{className:"brv-navmenu-item",prefix:(0,T.jsx)(Z.Z,{type:"brave-log"}),onClick:function(){h(!1),"/debug/log"!==s.pathname&&o.push("/debug/log")},arrow:!1,children:(0,T.jsx)("span",{className:"/debug/log"===s.pathname?"nav-menu-actived":"",children:"Logs"})},"/debug/log")]}),(0,T.jsx)(A.R,{})]})})]})]})}var C=t(79922);function W(e){var n=e.size,t=void 0===n?36:n,a=(0,v.k6)();return(0,T.jsx)("div",{className:"brv-head__logo",children:(0,T.jsx)("img",{src:C,fit:"cover",width:t,height:t,onClick:function(){a.push("/index")}})})}var _=t(13305),I=t(56036),R=t(65757),E=t(30562),F=t(68197),M=t(25108);function q(e){var n=(0,v.TH)(),t=(0,f.I0)(),o=(0,d.useState)(m.xw),i=(0,r.Z)(o,2),l=i[0],w=(i[1],(0,x.Rt)("brv-head",{isBrowser:p.jU,isMobile:p.tq})),y=(0,f.v9)((function(e){return e.skinState.head||{}})).headTitle,g=(0,f.v9)((function(e){return e.wallState})).selectedAddress,j=function(){var e=(0,a.Z)(u().mark((function e(){var a,r,o,s,i,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=g,window.tronWeb&&window.tronWeb.defaultAddress&&window.tronWeb.defaultAddress.base58&&(a=window.tronWeb.defaultAddress.base58),r=(0,I._8)(a),n.search&&(o=h.parse(n.search),i=(s=o||{}).debug,c=void 0===i?"":i,l=s.inviter,d=void 0===l?"":l,"actived"===c&&t((0,_.s2)(!0)),!r&&d&&(0,b.isAddress)(d)&&(r=(0,I.Xi)(d,a)),d&&!(0,b.isAddress)(d)&&t((0,F.dZ)("Inviter address ".concat(d," illegal.")))),t((0,R.u)(r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.log("Mob Header>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",(new Date).getTime()),j(),window.addEventListener(E.cf,s()(E.me).call(E.me,store)),c()((function(){window.dispatchEvent(new CustomEvent(E.cf))}),3e3),e.abrupt("return",(function(){window.removeEventListener(E.cf,E.me)}));case 5:case"end":return e.stop()}}),e)}))),[y]),(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:w,children:[(0,T.jsx)("div",{className:"brv-head__left",children:(0,T.jsx)(W,{size:36})}),(0,T.jsx)("div",{className:"brv-head__title",children:l}),(0,T.jsx)("div",{className:"brv-head__right",children:(0,T.jsx)(S,{})})]})})}},47604:(e,n,t)=>{"use strict";var a=t(73935),r=t(13535),o=t.n(r),s=t(82240),i=t(68420),c=t(27344),l=t(90306),u=t(22310),d=t(3362),p=t(67294),f=t(82100),v=t(73727),h=t(59731),b=t(29421),m=t(82490),x=t(34566),w=t(59420),y=t(68197),g=t(85893);function j(e){var n=function(){if("undefined"==typeof Reflect||!o())return!1;if(o().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,d.Z)(e);if(n){var r=(0,d.Z)(this).constructor;t=o()(a,arguments,r)}else t=a.apply(this,arguments);return(0,u.Z)(this,t)}}var k=(0,h.lX)(),Z=(0,b.Z)(b.E,k);const A=function(e){(0,l.Z)(t,e);var n=j(t);function t(e){var a;return(0,i.Z)(this,t),(a=n.call(this,e)).state={},a}return(0,c.Z)(t,[{key:"componentDidMount",value:function(){!!Z.getState().skinState&&Z.getState().skinState.isDarkTheme?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),(0,w.N)({timeout:3e3}).then((function(e){e?(0,x.e3)(Z):(y.RZ,Z.dispatch((0,y.RZ)("No tron enviroment detected.","DApp initialize loading.")),s.Z.show({icon:"fail",content:"No tron enviroment detected.",duration:4e3}))}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return(0,g.jsx)(f.zt,{store:Z,children:(0,g.jsx)(v.VK,{history:k,children:(0,g.jsx)(m.E,{})})})}}]),t}(p.Component);t(49541);a.render((0,g.jsx)(A,{}),document.getElementById("root"))},79922:(e,n,t)=>{"use strict";e.exports=t.p+"50f836e9bc474700b507.png"},46601:()=>{},89214:()=>{}}]);