"use strict";(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[792],{35925:(e,t,n)=>{n.d(t,{k:()=>X});var a=n(89356),s=n.n(a),r=n(63263),i=n.n(r),o=n(30699),l=n.n(o),c=n(58377),u=n.n(c),p=n(28834),d=n.n(p),f=n(13038),m=n.n(f),v=n(32752),h=n.n(v),x=n(44341),b=n.n(x),y=n(56655),k=n(28195),Z=n(3771),j=n(27642),P=n(22827),S=n(44845),N=n(33938),T=n(45567),w=n(63109),g=n.n(w),L=n(54579),C=n.n(L),A=n(21052),D=n.n(A),z=n(67294),B=n(1442),_=n(51005),E=n(28850),q=n(54781),R=n(28883),W=n(27897),I=n(68197),F=n(79548),K=n(56036),O=n(85531),V=n(26793),M=n(85893);function $(e,t){var n=s()(e);if(i()){var a=i()(e);t&&(a=l()(a).call(a,(function(t){return u()(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)d()(n=$(Object(a),!0)).call(n,(function(t){(0,S.Z)(e,t,a[t])}));else if(m())h()(e,m()(a));else{var s;d()(s=$(Object(a))).call(s,(function(t){b()(e,t,u()(a,t))}))}}return e}function X(e){var t=(0,B.I0)(),n=(0,V.$)().t,a=(0,z.useState)(!1),s=(0,T.Z)(a,2),r=s[0],i=s[1],o=(0,z.useState)(!0),l=(0,T.Z)(o,2),c=l[0],u=l[1],p=(0,z.useState)(0),d=(0,T.Z)(p,2),f=d[0],m=d[1],v=(0,z.useState)(0),h=(0,T.Z)(v,2),x=h[0],b=h[1],S=(0,z.useState)(0),w=(0,T.Z)(S,2),L=w[0],A=w[1],$=(0,z.useState)(0),X=(0,T.Z)($,2),H=X[0],U=X[1],J=(0,z.useState)(0),Q=(0,T.Z)(J,2),Y=Q[0],ee=Q[1],te=(0,z.useState)(""),ne=(0,T.Z)(te,2),ae=(ne[0],ne[1]),se=(0,z.useState)("deposit-card"),re=(0,T.Z)(se,2),ie=re[0],oe=re[1],le=(0,B.v9)((function(e){return e.skinState})).isDarkTheme,ce=(0,B.v9)((function(e){return e.dappState})).inviter,ue=(0,B.v9)((function(e){return e.solState.ctrl})).bfbBeginTime,pe=(0,B.v9)((function(e){return e.wallState})),de=pe.blockchainKey,fe=pe.selectedAddress,me=(0,B.v9)((function(e){return e.balState})),ve=me.bfbLpBalance,he=me.myDepositLPAmount,xe=me.LPPoolTotal,be=(0,B.v9)((function(e){return e.balState.approval})).lpApproval;(0,z.useEffect)((function(){i(!1),u((0,R.Or)(be)),m((0,q.bW)(ve)),ee((0,q.bW)(ve,!0)),b((0,q.bW)(xe)),A((0,q.bW)(he))}),[ve,he,xe,be]),(0,z.useEffect)((function(){var e=(0,q.Rt)("deposit-card",{isDarkTheme:le}),t=(0,K._8)(fe);ae(t),oe(e)}),[le]);var ye=function(){window.open((0,F.t)(),"sunswap")},ke=function(){var e=(0,N.Z)(g().mark((function e(){var n,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,R.DE)(),e.prev=1,i(!0),e.next=5,(0,W.jE)(n,t);case 5:a=e.sent,t((0,I.ZP)(G(G({},a),{},{blockchainKey:de}),"Approval to bLP Token")),C()((function(){(0,O.Dy)(),i(!1)}),2e4),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t((0,I.RZ)(e.t0,"Approve LP fail.")),e.t0&&e.t0.message?P.Z.show({afterClose:function(){i(!1)},icon:"fail",maskClassName:"brv-mask-overwhite",content:e.t0.message,duration:5e3}):i(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,N.Z)(g().mark((function e(){var n,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(D()(ue)-(new Date).getTime()/1e3>0||0===D()(ue))){e.next=3;break}throw new Error("抵押未开始");case 3:return n=(0,R.vV)(H,ve),i(!0),C()((function(){i(!1),(0,O.NK)(),(0,O.rZ)()}),2e4),e.next=8,(0,W.nC)(n,ce,t);case 8:a=e.sent,t((0,I.ZP)(a,"Deposit LP Token")),U(""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),t((0,I.RZ)(e.t0,"Deposit LP Token")),e.t0&&e.t0.message?P.Z.show({icon:"fail",maskClassName:"brv-mask-overwhite",content:e.t0.message,duration:3e3,afterClose:function(){i(!1)}}):i(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,M.jsx)("div",{className:"deposit-wrapper",children:(0,M.jsxs)(y.Z,{className:ie,title:(0,M.jsxs)("div",{className:"deposit-card-title",children:[(0,M.jsx)(E.Z,{type:"brave-bf",style:{fontSize:"1.5em"}}),(0,M.jsx)(E.Z,{type:"brave-trx",style:{fontSize:"1.25em",marginLeft:"-0.25em"}}),(0,M.jsxs)("span",{className:"title",children:[n("BFB"),"-TRX LP "]})]}),children:[(0,M.jsxs)(j.Z,{className:"liquidity-pool",layout:"horizontal",children:[(0,M.jsx)(j.Z.Item,{label:n("deposit amount"),children:(0,M.jsx)("span",{children:L})}),(0,M.jsx)(j.Z.Item,{label:n("Available balance"),children:(0,M.jsx)("span",{children:f})}),(0,M.jsxs)("div",{className:"liquidity-form-item",children:[(0,M.jsx)(Z.Z,{value:H,placeholder:n("Please entry a number of deposit amount"),clearable:!1,disabled:r,onChange:function(e){U(e)},className:"liquidity-input"}),(0,M.jsx)("div",{className:"liquidity-input-btn",children:(0,M.jsx)(k.Z,{color:"primary",size:"mini",disabled:r,onClick:function(){U(Y)},children:"Max"})})]})]}),(0,M.jsx)("div",{className:"deposit-card-btns",children:c?(0,M.jsx)(k.Z,{color:"primary",block:!0,size:"small",onClick:ke,loading:r,loadingText:n("in trading"),children:n("Approve")}):(0,M.jsx)(k.Z,{color:"primary",block:!0,size:"small",onClick:Ze,loading:r,loadingText:n("in trading"),children:n("Deposit")})}),(0,M.jsxs)("div",{className:"deposit-card__footer total-deposit",children:[(0,M.jsxs)("span",{className:"foot-label",children:[n("Total deposit amount")," :"]}),(0,M.jsxs)("span",{className:"foot-desc",children:[x," ",n("BLP")]})]}),(0,M.jsxs)("div",{className:"deposit-card__footer flex-between",children:[(0,M.jsx)("span",{className:"foot-label",children:(0,M.jsx)(k.Z,{color:"primary",size:"mini",fill:"none",onClick:ye,children:n("Goto sunswap to add liquidity")})}),(0,M.jsx)("span",{className:"foot-desc",children:(0,M.jsx)(_.Z,{onClick:ye})})]})]})})}},71943:(e,t,n)=>{n.d(t,{t:()=>L});var a=n(56655),s=n(28195),r=n(3771),i=n(27642),o=n(22827),l=n(33938),c=n(45567),u=n(63109),p=n.n(u),d=n(54579),f=n.n(d),m=n(21052),v=n.n(m),h=n(67294),x=n(1442),b=n(55168),y=n(51005),k=n(26793),Z=n(28850),j=n(54781),P=n(28883),S=n(79548),N=n(68197),T=n(15338),w=n(85531),g=n(85893);function L(e){(0,b.k6)();var t=(0,x.I0)(),n=(0,k.$)().t,u=(0,h.useState)(!0),d=(0,c.Z)(u,2),m=d[0],L=d[1],C=(0,h.useState)(0),A=(0,c.Z)(C,2),D=A[0],z=A[1],B=(0,h.useState)(0),_=(0,c.Z)(B,2),E=_[0],q=_[1],R=(0,h.useState)(0),W=(0,c.Z)(R,2),I=W[0],F=W[1],K=(0,h.useState)(0),O=(0,c.Z)(K,2),V=O[0],M=O[1],$=(0,h.useState)(0),G=(0,c.Z)($,2),X=G[0],H=G[1],U=(0,h.useState)(!1),J=(0,c.Z)(U,2),Q=J[0],Y=J[1],ee=(0,h.useState)("deposit-card"),te=(0,c.Z)(ee,2),ne=te[0],ae=te[1],se=(0,x.v9)((function(e){return e.skinState})).isDarkTheme,re=(0,x.v9)((function(e){return e.wallState})),ie=(re.blockchainKey,re.selectedAddress),oe=(0,x.v9)((function(e){return e.dappState})).inviter,le=(0,x.v9)((function(e){return e.balState})),ce=le.bfbPLpBalance,ue=le.myDepositPLPAmount,pe=le.PLPPoolTotal,de=(0,x.v9)((function(e){return e.balState.approval})).plpApproval,fe=(0,x.v9)((function(e){return e.solState.ctrl})).xmfiBeginTime;(0,h.useEffect)((function(){L((0,P.Or)(de)),z((0,j.bW)(ce)),H((0,j.bW)(ce,!0)),q((0,j.bW)(pe)),F((0,j.bW)(ue)),Y(!1)}),[ie,de,ue,ce]),(0,h.useEffect)((function(){var e=(0,j.Rt)("deposit-card",{isDarkTheme:se});ae(e)}),[se]);var me=function(){var e=(0,l.Z)(p().mark((function e(){var n,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,P.DE)(),Y(!0),e.next=5,(0,T.TE)(n,t);case 5:a=e.sent,t((0,N.ZP)(a,"Approve to bLP token")),f()((function(){Y(!1),(0,w.Dy)()}),2e4),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t((0,N.RZ)(e.t0,"Approve PLP Token Fail")),e.t0&&e.t0.message?o.Z.show({afterClose:function(){Y(!1)},icon:"fail",maskClassName:"brv-mask-overwhite",content:e.t0.message,duration:4e3}):Y(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){window.open((0,S.t)(),"sunswap")},he=function(){var e=(0,l.Z)(p().mark((function e(){var n,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0===v()(fe)||v()(fe)-(new Date).getTime()/1e3>0)){e.next=3;break}throw new Error("抵押未开始");case 3:return n=(0,P.vV)(V,ce),f()((function(){Y(!1),M(""),(0,w.NK)(),(0,w.rZ)()}),2e4),Y(!0),e.next=8,(0,T._y)(n,oe,t);case 8:a=e.sent,t((0,N.ZP)(a,"Deposit PLP")),M(""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),t((0,N.RZ)(e.t0,"Deposit PLP Token Fail")),e.t0&&e.t0.message?o.Z.show({icon:"fail",maskClassName:"brv-mask-overwhite",content:e.t0.message,duration:4e3,afterClose:function(){Y(!1)}}):Y(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsx)("div",{className:"deposit-wrapper",children:(0,g.jsxs)(a.Z,{className:ne,title:(0,g.jsxs)("div",{className:"deposit-card-title",children:[(0,g.jsx)(Z.Z,{type:"brave-bf",style:{fontSize:"1.5em"}}),(0,g.jsx)(Z.Z,{type:"brave-trx",style:{fontSize:"1.25em",marginLeft:"-0.25em"}}),(0,g.jsxs)("span",{className:"title",children:[n("XMFi"),"-TRX LP "]})]}),children:[(0,g.jsxs)(i.Z,{className:"liquidity-pool",layout:"horizontal",children:[(0,g.jsx)(i.Z.Item,{label:n("deposit amount"),children:(0,g.jsx)("span",{children:I})}),(0,g.jsx)(i.Z.Item,{label:n("Available balance"),children:(0,g.jsx)("span",{children:D})}),(0,g.jsxs)("div",{className:"liquidity-form-item",children:[(0,g.jsx)(r.Z,{value:V,placeholder:n("Please entry a number of deposit amount"),clearable:!1,disabled:Q,className:"liquidity-input",onChange:function(e){M(e)}}),(0,g.jsx)("div",{className:"liquidity-input-btn",children:(0,g.jsx)(s.Z,{color:"primary",size:"mini",disabled:Q,onClick:function(){M(X)},children:"Max"})})]})]}),(0,g.jsx)("div",{className:"deposit-card-btns",children:m?(0,g.jsx)(s.Z,{color:"primary",block:!0,size:"small",onClick:me,loading:Q,loadingText:n("in trading"),children:n("Approve")}):(0,g.jsx)(s.Z,{color:"primary",block:!0,size:"small",onClick:he,loading:Q,loadingText:n("in trading"),children:n("Deposit")})}),(0,g.jsxs)("div",{className:"deposit-card__footer total-deposit",children:[(0,g.jsxs)("span",{className:"foot-label",children:[n("Total deposit amount")," :"]}),(0,g.jsxs)("span",{className:"foot-desc",children:[E," ",n("PLP")]})]}),(0,g.jsxs)("div",{className:"deposit-card__footer flex-between",children:[(0,g.jsx)("span",{className:"foot-label",children:(0,g.jsx)(s.Z,{color:"primary",size:"mini",fill:"none",onClick:ve,children:n("Goto sunswap to add liquidity")})}),(0,g.jsx)("span",{className:"foot-desc",children:(0,g.jsx)(y.Z,{onClick:ve})})]})]})})}},80306:(e,t,n)=>{n.d(t,{Z:()=>C});var a=n(33938),s=n(63109),r=n.n(s),i=n(14890),o=n(1442),l=n(55168),c=n(13535),u=n.n(c),p=n(83728),d=n(17316),f=n(68420),m=n(27344),v=n(90306),h=n(22310),x=n(3362),b=n(67294),y=n(26793),k=n(54781),Z=n(28850),j=n(85893);function P(e){var t=(0,y.$)().t,n=e.tokenName,a=void 0===n?"":n,s=e.className,r=e.symbol,i=void 0===r?"":r,l=e.supplyValt,c=void 0===l?"":l,u=e.poolTotalAmount,p=(0,o.v9)((function(e){return e.skinState})).isDarkTheme,d=(0,k.Rt)("brv-rect",{isDarkTheme:p},s);return(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("div",{className:"brv-rect-item icon-box",children:(0,j.jsx)(Z.Z,{type:"brave-".concat(a),style:{fontSize:"2.85em"}})}),(0,j.jsxs)("span",{className:"brv-rect-item rect-text",children:[i," ",t("Issuance")]}),(0,j.jsx)("span",{className:"brv-rect-item rect-text",style:{fontSize:"20px",fontWeight:"bold"},children:c}),u&&(0,j.jsxs)("span",{className:"brvprect-item rect-text",children:[u," (",t("Total deposit amount"),")"]})]})}var S=n(7729),N=n(64416);function T(e){var t=function(){if("undefined"==typeof Reflect||!u())return!1;if(u().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,x.Z)(e);if(t){var s=(0,x.Z)(this).constructor;n=u()(a,arguments,s)}else n=a.apply(this,arguments);return(0,h.Z)(this,n)}}var w=function(e){(0,v.Z)(n,e);var t=T(n);function n(e){var a;return(0,f.Z)(this,n),(a=t.call(this,e)).state={},a}return(0,m.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderTokens",value:function(){var e=this.props,t=e.t,n=e.pLpTokenSupplyCurrency,a=e.lpToeknSupplyCurrency,s=e.PLPPoolTotalAmount,r=e.LPPoolTotalAmount;return(0,j.jsxs)("div",{className:"home-page__tokens",children:[(0,j.jsx)(P,{tokenName:"lpcoin",supplyValt:n,symbol:t("PLP"),poolTotalAmount:s}),(0,j.jsx)(P,{tokenName:"lpcoin",supplyValt:a,symbol:t("BLP"),poolTotalAmount:r})]})}},{key:"render",value:function(){var e=this.props.t;return(0,j.jsxs)("div",{className:"home-page",children:[this.renderTokens(),(0,j.jsx)(d.Z,{contentPosition:"left",children:"BF 社区规划"}),(0,j.jsx)(p.Z,{style:{paddingBlockEnd:"12px",fontSize:"12px"},children:e("Home BFB descrition")}),(0,j.jsx)(S.P,{})]})}}]),n}(b.Component);const g=(0,N.Z)()(w);var L=n(5382);const C=(0,i.qC)(l.EN,(0,o.$j)((function(e){var t=e.wallState.blockchainKey,n=e.balState,a=(n.bfbPlpTotalSupply,n.bfbLpTotalSupply,n.bfbBalance),s=n.LPPoolTotal,r=n.PLPPoolTotal,i=(0,L.an)(t),o=i.PLPSupply,l=i.LPSupply;return{bfbBalance:a,pLpTokenSupplyCurrency:(0,k.td)(o),lpToeknSupplyCurrency:(0,k.td)(l),PLPPoolTotalAmount:r&&"0"!==r.toString()?(0,k.td)(r):"",LPPoolTotalAmount:s&&"0"!==s.toString()?(0,k.td)(s):""}}),(function(e){return{reloadGetReward:(t=(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})};var t})))(g)}}]);