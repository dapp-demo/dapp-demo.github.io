"use strict";(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[2091],{79949:(e,n,t)=>{t.d(n,{R:()=>f});var r=t(5562),a=t(86099),s=t(33938),i=t(63109),l=t.n(i),o=t(67294),c=t(82100),d=t(13305),u=t(28850),p=t(96934),h=t(85893);function f(e){var n=(0,c.I0)(),t=(0,c.v9)((function(e){return e.skinState})).isDarkTheme;return(0,o.useEffect)((function(){return(0,s.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}),[t]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(r.Z.Item,{className:"brv-navmenu-item brv-theme-item",style:{textAlign:"center"},children:[(0,h.jsxs)("div",{className:"dapp-info",children:[(0,h.jsxs)("span",{children:["Version:",p.f4]}),(0,h.jsx)("span",{style:{fontSize:"10px"},children:p.BS&&"-".concat(p.$E)})]}),(0,h.jsx)(a.Z,{className:"brv-theme-switch",checked:t,checkedText:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{type:"brave-theme-colorful"}),(0,h.jsx)("span",{className:"label is-dark",style:{paddingLeft:"4px"},children:"Dark"})]}),uncheckedText:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"label is-light",style:{paddingRight:"4px",color:"#ff9933"},children:"Light"}),(0,h.jsx)(u.Z,{type:"brave-theme-colorful",style:{color:"#ff9933"}})]}),onChange:function(e){n((0,d.xB)(e))},style:{"--checked-color":"#ff9933"}})]},"theme-item")})}},4082:(e,n,t)=>{t.d(n,{w:()=>o});var r=t(56655),a=t(19623),s=t(50047),i=t.n(s),l=(t(67294),t(85893));function o(e){var n=e.actions,t=e.headDataItems,s=void 0===t?[]:t,o=e.bodyDataItems,c=void 0===o?[]:o,d=i()(s).call(s,(function(e){return"object"===(0,a.Z)(e)?e:{label:"",valt:e}})),u=i()(c).call(c,(function(e){return"object"===(0,a.Z)(e)?e:{desc:"",valt:e}}));return(0,l.jsx)(r.Z,{className:"vip-card",headerClassName:"vip-card__header",title:(0,l.jsx)(l.Fragment,{children:i()(d).call(d,(function(e,n){return(0,l.jsxs)("div",{className:"invite-title__item",children:[e.label?(0,l.jsx)("label",{className:"label",children:e.label}):null,(0,l.jsx)("span",{className:"span-valt",children:e.valt})]},"vipCardHeadItem_".concat(n))}))}),extra:(0,l.jsx)("div",{className:"vip-card-actions",style:{marginRight:"12px"},children:n||null}),bodyClassName:"vip-card__body",children:(0,l.jsx)(l.Fragment,{children:i()(u).call(u,(function(e,n){return(0,l.jsxs)("div",{className:"invite-body__item",children:[(0,l.jsx)("p",{className:"token-balance",children:e.valt}),e.desc?(0,l.jsx)("span",{className:"invite-valt-desc",children:e.desc}):null]},"vipCardHeadItem_".concat(n))}))})})}},73730:(e,n,t)=>{t.d(n,{Z:()=>x});var r=t(14890),a=t(82100),s=t(55168),i=t(13535),l=t.n(i),o=t(68420),c=t(27344),d=t(90306),u=t(22310),p=t(3362),h=t(67294),f=t(85893);function v(e){var n=function(){if("undefined"==typeof Reflect||!l())return!1;if(l().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,p.Z)(e);if(n){var a=(0,p.Z)(this).constructor;t=l()(r,arguments,a)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)}}var m=function(e){(0,d.Z)(t,e);var n=v(t);function t(e){var r;return(0,o.Z)(this,t),(r=n.call(this,e)).state={},r}return(0,c.Z)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderHeader",value:function(){return(0,f.jsx)("div",{className:"apply__header",children:" ApplyIndex Header"})}},{key:"renderContent",value:function(){return(0,f.jsx)("div",{className:"apply__content",children:"ApplyIndex Content"})}},{key:"renderFooter",value:function(){return(0,f.jsx)("div",{className:"apply__footer",children:"ApplyIndex Footer"})}},{key:"render",value:function(){return(0,f.jsxs)("div",{className:"apply",children:[this.renderHeader(),this.renderContent(),this.renderFooter()]})}}]),t}(h.Component);const x=(0,r.qC)(s.EN,(0,a.$j)((function(e){return{isMobile:e.skinState.isMobile}}),(function(e){return{}})))(m)},65984:(e,n,t)=>{t.d(n,{Z:()=>L});var r=t(33938),a=t(63109),s=t.n(a),i=t(14890),l=t(82100),o=t(55168),c=t(13535),d=t.n(c),u=t(5562),p=t(27642),h=t(17316),f=t(28195),v=t(68420),m=t(27344),x=t(90306),j=t(22310),b=t(3362),y=t(42825),k=t.n(y),Z=t(50047),N=t.n(Z),w=t(67294),g=t(28850),P=t(85893);function S(e){var n=function(){if("undefined"==typeof Reflect||!d())return!1;if(d().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(d()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,b.Z)(e);if(n){var a=(0,b.Z)(this).constructor;t=d()(r,arguments,a)}else t=r.apply(this,arguments);return(0,j.Z)(this,t)}}var C=function(e){(0,x.Z)(a,e);var n,t=S(a);function a(e){var n;return(0,v.Z)(this,a),(n=t.call(this,e)).state={tpmsg:"",tpinfo:"no",walletInfo:"no wallet"},n}return(0,m.Z)(a,[{key:"componentDidMount",value:(n=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.debugCheckTp&&this.props.debugCheckTp();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){}},{key:"renderDebugTemp",value:function(){var e=this.props.wallState;return(0,P.jsxs)("div",{className:"debug-temp",children:[(0,P.jsxs)("div",{className:"debug-row-item",children:[(0,P.jsx)("div",{className:"label",children:this.state.tpmsg}),(0,P.jsx)("div",{className:"content",children:this.state.tpinfo})]}),(0,P.jsx)(_,{label:"Wallet Info",text:this.state.walletInfo}),(0,P.jsx)(_,{label:"Wallet cache",text:k()(e)})]})}},{key:"renderHeader",value:function(){var e=this,n=this.props.wallState||{},t=n.walletName,r=n.walletType,a=n.walletVer,s=n.selectedAccountName,i=n.blockchainKey,l=n.selectedAddress;return(0,P.jsxs)(p.Z,{layout:"horizontal",className:"debug-env-form",children:[(0,P.jsx)(h.Z,{contentPosition:"left",style:{margin:"8px 0",color:"#1677ff",borderColor:"#1677ff"},children:(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"DApp Debug Infomation "}),(0,P.jsx)(f.Z,{size:"mini",onClick:function(){e.props.cleanupAllMessages()},children:"Clear All"})]})}),(0,P.jsx)(p.Z.Item,{label:r,children:(0,P.jsxs)("span",{children:[t,"-v",a]})}),(0,P.jsx)(p.Z.Item,{label:s||"none",children:(0,P.jsxs)("span",{children:[i,l]})})]})}},{key:"renderContent",value:function(){var e=this.props.debugEnv;return(0,P.jsxs)(p.Z,{layout:"horizontal",className:"debug-env-form",children:[(0,P.jsx)(h.Z,{contentPosition:"left",style:{margin:"8px 0",color:"#1677ff",borderColor:"#1677ff"},children:"Tron Info"}),(0,P.jsx)(p.Z.Item,{label:"hasTronWeb",children:(0,P.jsx)("span",{children:window.tronWeb?"has":"no"})}),(0,P.jsx)(p.Z.Item,{label:"has TronLink",children:(0,P.jsx)("span",{children:window.tronLink?"has":"no"})}),(0,P.jsx)(p.Z.Item,{label:"Tron Fullnode",children:(0,P.jsx)("div",{style:{wordBreak:"break-all"},children:window.tronWeb?k()(window.tronWeb.fullNode):"no"})}),(0,P.jsx)(p.Z.Item,{label:"Tron Origin",children:(0,P.jsx)("div",{style:{wordBreak:"break-all"},children:e?k()(window.tronWeb.fullNode):"no detected env."})})]})}},{key:"renderFooter",value:function(){var e,n=this.props,t=(n.checkFailMessages,n.errors,n.warns);return(0,P.jsxs)(u.Z,{className:"debug-list__errors",children:[(0,P.jsx)(h.Z,{contentPosition:"left",style:{margin:"8px 0",color:"#1677ff",borderColor:"#1677ff"},children:(0,P.jsx)(g.Z,{type:"brave-debug"})}),N()(e=t||[]).call(e,(function(e,n){return(0,P.jsxs)(u.Z.Item,{description:e.message,children:[e.type," ",e.code||""]},"err_".concat(n))}))]})}},{key:"render",value:function(){return(0,P.jsxs)("div",{className:"debug-home",children:[this.renderHeader(),this.renderDebugTemp(),this.renderContent(),this.renderFooter()]})}}]),a}(w.Component);function _(e){var n=e||{},t=n.label,r=void 0===t?"":t,a=n.text,s=void 0===a?"":a;return(0,P.jsxs)("div",{className:"debug-row-item",children:[(0,P.jsx)("div",{className:"label",children:r}),(0,P.jsx)("div",{className:"content",children:s})]})}var T=t(25692),I=t(61874);const L=(0,i.qC)(o.EN,(0,l.$j)((function(e){e.skinState.isMobile;var n=e.msgState,t=n.debugEnv,r=void 0===t?{}:t,a=n.checkFailMessages,s=void 0===a?[]:a,i=e.wallState;return{errors:(0,I.e$)(),warns:(0,I.dD)(),checkFailMessages:s,debugEnv:r,wallState:i}}),(function(e){return{debugCheckTp:(n=(0,r.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,T.w)(e);case 1:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),cleanupAllMessages:function(){(0,I.$4)()}};var n})))(C)},32771:(e,n,t)=>{t.d(n,{R:()=>s});t(67294);var r=t(55168),a=t(85893);function s(e){(0,r.k6)();return(0,a.jsx)("div",{children:(0,a.jsx)("h1",{children:"TRX Test"})})}},34837:(e,n,t)=>{t.d(n,{Z:()=>W});var r=t(14890),a=t(82100),s=t(55168),i=t(13535),l=t.n(i),o=t(33938),c=t(68420),d=t(27344),u=t(90306),p=t(22310),h=t(3362),f=t(63109),v=t.n(f),m=t(67294),x=t(56655),j=t(28195),b=t(3771),y=t(27642),k=t(45567),Z=t(51005),N=t(28850),w=t(52159),g=t(28883),P=t(5382),S=t(14197),C=t(85893);function _(e){(0,s.k6)();var n=(0,m.useState)(!0),t=(0,k.Z)(n,2),r=t[0],i=t[1],l=(0,m.useState)(0),o=(0,k.Z)(l,2),c=o[0],d=o[1],u=(0,m.useState)(0),p=(0,k.Z)(u,2),h=p[0],f=p[1],v=(0,m.useState)(0),_=(0,k.Z)(v,2),T=_[0],I=_[1],L=(0,m.useState)("deposit-card"),A=(0,k.Z)(L,2),D=A[0],B=A[1],z=(0,a.v9)((function(e){return e.skinState})).isDarkTheme,E=(0,a.v9)((function(e){return e.wallState})),F=E.blockchainKey,M=E.selectedAddress,R=((0,a.v9)((function(e){return e.dappState})).inviter,(0,a.v9)((function(e){return e.balState}))),q=R.bfbPLpBalance,W=R.myDepositLPAmount,V=R.PLPPoolTotal,H=R.approval,K=void 0===H?{}:H;(0,m.useEffect)((function(){var e={blockchainKey:F,fixed:4},n=K.plpApproval,t=void 0===n?0:n;i((0,g.bZ)(t,F)),d((0,g.Pj)(q,e)),f((0,g.Pj)(V,e)),I((0,g.Pj)(W,e))}),[F,M]),(0,m.useEffect)((function(){var e=(0,w.Rt)("deposit-card",{isDarkTheme:z});B(e)}),[z]);var $=function(){window.open("".concat(P.hn,"redirect=https://dapp-demo.github.io&utm_source=tokenpocket"),"sunswap")};return(0,C.jsx)("div",{className:"deposit-wrapper",children:(0,C.jsxs)(x.Z,{className:D,title:(0,C.jsxs)("div",{className:"deposit-card-title",children:[(0,C.jsx)(N.Z,{type:"brave-bf",style:{fontSize:"1.5em"}}),(0,C.jsx)(N.Z,{type:"brave-trx",style:{fontSize:"1.25em",marginLeft:"-0.25em"}}),(0,C.jsx)("span",{className:"title",children:"BFB-TRX PLP "})]}),children:[(0,C.jsxs)(y.Z,{className:"liquidity-pool",layout:"horizontal",children:[(0,C.jsx)(y.Z.Item,{label:"质押数量",children:(0,C.jsx)("span",{children:T})}),(0,C.jsx)(y.Z.Item,{label:"可用余额",children:(0,C.jsx)("span",{children:c})}),(0,C.jsxs)("div",{className:"liquidity-form-item",children:[(0,C.jsx)(b.Z,{placeholder:"请输入质押数量",clearable:!0,className:"liquidity-input"}),(0,C.jsx)("div",{className:"liquidity-input-btn",children:(0,C.jsx)(j.Z,{color:"primary",size:"mini",children:"Max"})})]})]}),(0,C.jsx)("div",{className:"deposit-card-btns",children:r?(0,C.jsx)(j.Z,{color:"primary",block:!0,size:"small",children:"Approve"}):(0,C.jsx)(j.Z,{color:"primary",block:!0,size:"small",children:"Deposit"})}),(0,C.jsxs)("div",{className:"deposit-card__footer",children:[(0,C.jsx)("span",{className:"foot-label",children:"总抵押量:"}),(0,C.jsxs)("span",{className:"foot-desc",children:[h," PLP"]})]}),(0,C.jsxs)("div",{className:"deposit-card__footer flex-between",children:[(0,C.jsx)("span",{className:"foot-label",children:(0,C.jsx)(j.Z,{color:"primary",size:"mini",fill:"none",onClick:$,children:S.u})}),(0,C.jsx)("span",{className:"foot-desc",children:(0,C.jsx)(Z.Z,{onClick:$})})]})]})})}var T=t(82240),I=t(27897),L=t(41864),A=t(79612),D=t(49947),B=t(44177),z=t(11770),E=t(25108);function F(e){var n=(e||{}).inviter,t=((0,s.k6)(),(0,a.I0)()),r=(0,m.useState)(!0),i=(0,k.Z)(r,2),l=i[0],c=i[1],d=(0,m.useState)(0),u=(0,k.Z)(d,2),p=u[0],h=u[1],f=(0,m.useState)(0),_=(0,k.Z)(f,2),F=_[0],M=_[1],R=(0,m.useState)(0),q=(0,k.Z)(R,2),W=q[0],V=q[1],H=(0,m.useState)(0),K=(0,k.Z)(H,2),$=K[0],O=K[1],U=(0,m.useState)("deposit-card"),X=(0,k.Z)(U,2),G=X[0],J=X[1],Q=(0,a.v9)((function(e){return e.skinState})).isDarkTheme,Y=(0,a.v9)((function(e){return e.wallState})),ee=Y.blockchainKey,ne=Y.selectedAddress,te=(0,a.v9)((function(e){return e.balState})),re=te.bfbLpBalance,ae=te.myDepositLPAmount,se=te.LPPoolTotal,ie=te.approval,le=void 0===ie?{}:ie;(0,m.useEffect)((function(){var e={blockchainKey:ee,fixed:4},n=le.lpApproval,t=void 0===n?0:n;c((0,g.bZ)(t,ee)),h((0,g.Pj)(re,e)),M((0,g.Pj)(se,e)),V((0,g.Pj)(ae,e))}),[ee,ne,re,ae,se,le]),(0,m.useEffect)((function(){var e=(0,w.Rt)("deposit-card",{isDarkTheme:Q});J(e)}),[Q]);var oe=function(){window.open("".concat(P.hn,"redirect=https://dapp-demo.github.io&utm_source=tokenpocket"),"sunswap")},ce=function(){var e=(0,o.Z)(v().mark((function e(){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.TM)(ee),e.prev=1,e.next=4,(0,I.jE)(n.toString());case 4:r=e.sent,t((0,A.kI)({lpApproval:n})),E.log(r),(0,L.NN)(r,ee),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),E.log(e.t0),T.Z.show({icon:"fail",content:"string"==typeof e.t0?e.t0:e.t0&&e.t0.message?e.t0.message:"Unknow error.",duration:5e3});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,o.Z)(v().mark((function e(){var t,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,/\d/.test($)&&!($<=0)){e.next=3;break}throw new Error("请输入大于零数值: ".concat($));case 3:if(!(0,D.Cj)($,p)){e.next=5;break}throw new Error("输入超出余额.");case 5:if(n&&(0,B.f)(n)){e.next=7;break}throw new Error("Inviter address ".concat(n," illegal."));case 7:return t=(0,g.lc)($,ee),E.log(">>>>>>>>>>>>>>>>>>",t),e.next=11,(0,z.S)(n,t);case 11:r=e.sent,E.log(r),(0,L.NN)(r,ee),T.Z.show({icon:"success",content:"抵押提交成功",duration:2e3}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),E.log(">>>>>>>>>>>>",e.t0),T.Z.show({icon:"fail",content:e.t0.message,duration:3e3});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return(0,C.jsx)("div",{className:"deposit-wrapper",children:(0,C.jsxs)(x.Z,{className:G,title:(0,C.jsxs)("div",{className:"deposit-card-title",children:[(0,C.jsx)(N.Z,{type:"brave-bf",style:{fontSize:"1.5em"}}),(0,C.jsx)(N.Z,{type:"brave-trx",style:{fontSize:"1.25em",marginLeft:"-0.25em"}}),(0,C.jsx)("span",{className:"title",children:"BFB-TRX LP "})]}),children:[(0,C.jsxs)(y.Z,{className:"liquidity-pool",layout:"horizontal",children:[(0,C.jsx)(y.Z.Item,{label:"质押数量",children:(0,C.jsx)("span",{children:W})}),(0,C.jsx)(y.Z.Item,{label:"可用余额",children:(0,C.jsx)("span",{children:p})}),(0,C.jsxs)("div",{className:"liquidity-form-item",children:[(0,C.jsx)(b.Z,{value:$,placeholder:"请输入质押数量",clearable:!1,onChange:function(e){O(e)},className:"liquidity-input"}),(0,C.jsx)("div",{className:"liquidity-input-btn",children:(0,C.jsx)(j.Z,{color:"primary",size:"mini",onClick:function(){O(p)},children:"Max"})})]})]}),(0,C.jsx)("div",{className:"deposit-card-btns",children:l?(0,C.jsx)(j.Z,{color:"primary",block:!0,size:"small",onClick:ce,children:"Approve"}):(0,C.jsx)(j.Z,{color:"primary",block:!0,size:"small",onClick:de,children:"Deposit"})}),(0,C.jsxs)("div",{className:"deposit-card__footer",children:[(0,C.jsx)("span",{className:"foot-label",children:"总抵押量:"}),(0,C.jsxs)("span",{className:"foot-desc",children:[F," LP"]})]}),(0,C.jsxs)("div",{className:"deposit-card__footer flex-between",children:[(0,C.jsx)("span",{className:"foot-label",children:(0,C.jsx)(j.Z,{color:"primary",size:"mini",fill:"none",onClick:oe,children:S.u})}),(0,C.jsx)("span",{className:"foot-desc",children:(0,C.jsx)(Z.Z,{onClick:oe})})]})]})})}function M(e){var n=function(){if("undefined"==typeof Reflect||!l())return!1;if(l().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,h.Z)(e);if(n){var a=(0,h.Z)(this).constructor;t=l()(r,arguments,a)}else t=r.apply(this,arguments);return(0,p.Z)(this,t)}}var R=function(e){(0,u.Z)(a,e);var n,t,r=M(a);function a(e){var n;return(0,c.Z)(this,a),(n=r.call(this,e)).state={formLayout:{},layout:"horizontal"},n}return(0,d.Z)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"approvalPlp",value:(t=(0,o.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"depositPlp",value:(n=(0,o.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"renderInviter",value:function(e){return(0,C.jsx)("div",{className:"deposit-wrapper",children:(0,C.jsx)("div",{className:"deposit-inviter",children:(0,C.jsx)("span",{children:e})})})}},{key:"render",value:function(){var e=this.props.inviter;return(0,C.jsxs)("div",{className:"deposit-page",children:[this.renderInviter(e),(0,C.jsx)(_,{inviter:e}),(0,C.jsx)(F,{inviter:e})]})}}]),a}(m.Component),q=t(56036);const W=(0,r.qC)(s.EN,(0,a.$j)((function(e){var n=e.skinState.isDarkTheme,t=e.wallState,r=t.blockchainKey,a=t.selectedAddress,s=e.balState,i=s.bfbPLpBalance,l=s.bfbLpBalance,o=s.myDepositLPAmount,c=s.myDepositPLPAmount,d=s.PLPPoolTotal,u=s.LPPoolTotal,p={blockchainKey:r,fixed:4},h=s.approval||{},f=h.plpApproval,v=h.lpApproval,m=(0,g.bZ)(f,r),x=(0,g.bZ)(v,r),j=(0,g.Pj)(i,p),b=(0,g.Pj)(c,p),y=(0,g.Pj)(d,p),k=(0,g.Pj)(l,p),Z=(0,g.Pj)(o,p),N=(0,g.Pj)(u,p);return{isDarkTheme:n,inviter:(0,q._8)(a),plpNeedApproval:m,plNeedApproval:x,bfbPLpBalValt:j,myDepositPLPValt:b,PLPPoolTotalValt:y,bfbLpBalValt:k,myDepositLPValt:Z,LPPoolTotalValt:N}}),(function(e){return{}})))(R)}}]);