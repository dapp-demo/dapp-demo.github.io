"use strict";(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[7637],{35608:(e,n,t)=>{t.d(n,{Z:()=>M});var r=t(14890),a=t(1442),i=t(55168),s=t(13535),c=t.n(s),o=t(95639),l=t(17316),u=t(56655),d=t(28195),f=t(68420),p=t(27344),v=t(90306),h=t(22310),m=t(3362),x=t(88066),b=t.n(x),j=t(67294),k=(t(28850),t(54781)),w=t(85893);const y=function(e){var n=e.label,t=void 0===n?"":n,r=e.content,a=void 0===r?"":r,i=e.className,s=void 0===i?"":i;return(0,w.jsxs)("div",{className:"debug-card__item ".concat(s),children:[t&&(0,w.jsx)("div",{className:"debug-card__item-label",children:t}),(0,w.jsx)("div",{className:"debug-card__item-content",children:(0,w.jsx)("span",{className:"text",children:a})})]})};var Z=t(22827),g=t(33938),N=t(45567),T=t(63109),C=t.n(T),S=t(42825),A=t.n(S);const _=function(e){var n=e.label,t=void 0===n?"":n,r=e.content,a=void 0===r?"":r,i=e.className,s=void 0===i?"":i;return(0,w.jsxs)("div",{className:"debug-card__item rich-item ".concat(s),children:[t&&(0,w.jsx)("label",{className:"debug-card__item-label",children:t}),(0,w.jsx)("div",{className:"debug-card__item-content",children:(0,w.jsx)("p",{className:"text",children:a})})]})};var D=t(46227),E=t(83316);function I(e){var n=(0,j.useState)(""),t=(0,N.Z)(n,2),r=t[0],a=t[1],i=(0,j.useState)(""),s=(0,N.Z)(i,2),c=s[0],f=s[1],p=(0,j.useState)(""),v=(0,N.Z)(p,2),h=v[0],m=v[1];(0,j.useEffect)((function(){}),[]);var x=function(){var e=(0,g.Z)(C().mark((function e(){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.tp){e.next=3;break}throw new Error("no TP in your enviroment.");case 3:return e.next=5,(0,D.yI)();case 5:n=e.sent,a(A()(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(e.t0.message),Z.Z.show({icon:"fail",content:"detect fial",duration:5e3});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),b=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{if(m(e),!window.tp||"function"!=typeof window.tp[e])throw new Error("Tp not in enviroment or ".concat(e," not function."));if(n){var t=n;window.tp[e](t).then((function(e){f(A()(e))})).catch((function(e){f(e&&e.message?e.message:A()(e))}))}else window.tp[e]().then((function(e){f(A()(e))})).catch((function(e){f(e&&e.message?e.message:A()(e))}))}catch(e){f(e&&e.message?e.message:A()(e))}};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(u.Z,{className:"debug-card",title:"Token Pocket",extra:(0,w.jsx)(d.Z,{size:"mini",fill:"outline",onClick:x,children:"Detected TokenPocket"}),bodyClassName:"debug-card__body",children:[(0,w.jsx)(_,{label:"TP detected",content:r}),(0,w.jsx)(l.Z,{contentPosition:"right",children:"Tp API Test"}),(0,w.jsxs)(o.Z,{wrap:!0,children:[(0,w.jsx)(d.Z,{size:"mini",color:"primary",onClick:function(){b("getAppInfo")},children:"getAppInfo"}),(0,w.jsx)(d.Z,{size:"mini",color:"primary",onClick:function(){b("getCurrentWallet")},children:"getCurrentWallet"}),(0,w.jsx)(d.Z,{size:"mini",color:"primary",onClick:function(){b("getWallets")},children:"getWallets"}),(0,w.jsx)(d.Z,{size:"mini",color:"primary",onClick:function(){b("getNodeUrl",{blockchain:"tron"})},children:"getNodeUrl"})]}),(0,w.jsx)(_,{label:"Call ".concat(h),content:c})]}),(0,w.jsx)(E.i,{})]})}var W=t(19623),z=t(34566);function B(e){(0,i.k6)();var n=(0,a.I0)(),t=(0,j.useState)(!1),r=(0,N.Z)(t,2),s=r[0],c=r[1],o=(0,j.useState)(!1),l=(0,N.Z)(o,2),f=l[0],p=l[1],v=(0,j.useState)(""),h=(0,N.Z)(v,2),m=h[0],x=h[1],b=(0,j.useState)(""),k=(0,N.Z)(b,2),T=k[0],S=k[1],D=(0,a.v9)((function(e){return e})),E=D.wallState,I=D.balState;(0,j.useEffect)((function(){c("object"===(0,W.Z)(window.tronWeb)?"has":"no"),p("object"===(0,W.Z)(window.tp)&&window.tp.isConnected());var e=E||"";"object"===(0,W.Z)(E)&&delete e.selectedHex,x(A()(e))}),[E,I]);var B=function(){var e=(0,g.Z)(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.tronWeb){e.next=3;break}throw new Error("No tronWeb in your enviroment.");case 3:return e.next=5,(0,z.dy)(n);case 5:t=e.sent,S(A()(t||"")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),S(A()(e.t0&&e.t0.message?e.t0.message:"ex parse fail")),Z.Z.show({icon:"fail",content:e.t0.message,duration:6e3});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(u.Z,{className:"debug-card",title:"Tronweb Enviroment",extra:(0,w.jsx)(d.Z,{size:"mini",fill:"outline",onClick:B,children:"Debug DApp load"}),bodyClassName:"debug-card__body",children:[(0,w.jsx)(y,{label:"Has TronWeb",content:s}),(0,w.jsx)(y,{label:"Has TP",content:f?"has TP":"no"}),(0,w.jsx)(_,{label:"Wallet State",content:m}),(0,w.jsx)(_,{label:"Debug Result",content:T})]})}var U=t(3771),R=t(88742),P=t.n(R),K="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t";function q(e){(0,i.k6)();var n=(0,j.useState)(K),t=(0,N.Z)(n,2),r=t[0],s=t[1],c=(0,j.useState)(""),o=(0,N.Z)(c,2),f=o[0],p=o[1],v=(0,j.useState)(""),h=(0,N.Z)(v,2),m=h[0],x=h[1],k=(0,j.useState)(""),Z=(0,N.Z)(k,2),T=Z[0],S=Z[1],A=(0,j.useState)(""),_=(0,N.Z)(A,2),D=_[0],E=_[1],I=(0,a.v9)((function(e){return e.wallState})),W=I.nodeUrl,z=void 0===W?"":W,B=I.blockchainKey,R=void 0===B?"":B,q=I.selectedAddress,L=void 0===q?"":q;(0,j.useEffect)((function(){var e;x(L||"");var n=R&&z?b()(e="".concat(R," [")).call(e,z,"]"):"";return S(n),s(K),function(){}}),[R,L]);var O=function(){var e=(0,g.Z)(C().mark((function e(){var n,t,a;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.tronWeb){e.next=3;break}throw new Error("Env no tronweb");case 3:if(r&&m){e.next=5;break}throw new Error("token Address and user address required.");case 5:return e.next=7,P()(n=window.tronWeb.contract()).call(n,K);case 7:return t=e.sent,e.next=10,t.balanceOf(m).call();case 10:a=e.sent,p(a?a.toString():""),E(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),E(e.t0.message||e.t0.toString());case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(u.Z,{className:"mainnet-card",style:{marginBottom:"12px"},children:[(0,w.jsx)(l.Z,{children:"TronGrid Test"}),(0,w.jsx)(y,{label:"Network",content:T||"click DApp Reload Init Button Get info"}),(0,w.jsx)(y,{label:"balance",content:f}),(0,w.jsxs)("div",{className:"token-address",children:[(0,w.jsx)("label",{className:"token-label",children:"Token Address"}),(0,w.jsx)(U.Z,{name:"tokenAddress",clearable:!0,placeholder:"请输要查询的地址",value:r,onChange:function(e){s(e),E("")},style:{"--font-size":"12px"}}),(0,w.jsx)(d.Z,{size:"mini",color:"primary",onClick:function(){x(L||""),s(K),E("")},children:"Reset"})]}),(0,w.jsxs)("div",{className:"mainnet-input-wrap",children:[(0,w.jsxs)("div",{className:"user-address",children:[(0,w.jsx)("label",{className:"user-label",children:"Trx Address"}),(0,w.jsx)(U.Z,{clearable:!0,placeholder:"请输要查询的地址",value:m,name:"userAddress",onChange:function(e){x(e)},style:{"--font-size":"12px"}})]}),(0,w.jsx)(d.Z,{size:"mini",color:"primary",onClick:O,children:"Query"})]}),(0,w.jsx)("div",{className:"mainnet-error",children:(0,w.jsx)("p",{className:"error",children:D})})]})}var L=t(85531);function O(e){var n=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,m.Z)(e);if(n){var a=(0,m.Z)(this).constructor;t=c()(r,arguments,a)}else t=r.apply(this,arguments);return(0,h.Z)(this,t)}}var H=function(e){(0,v.Z)(t,e);var n=O(t);function t(e){var r;return(0,f.Z)(this,t),(r=n.call(this,e)).state={},r}return(0,p.Z)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderDAppEnvBaseInfo",value:function(){var e,n=this.props,t=n.walletType,r=n.blockchainKey,a=n.walletName,i=n.walletVer,s=n.inviter,c=n.selectedAddress,o=n.resetInviter,l=n.nodeUrl,f=n.tpNodeUrl;return(0,w.jsxs)(u.Z,{className:"debug-card",title:"Wallet Base Info",extra:(0,w.jsx)(d.Z,{size:"mini",fill:"outline",onClick:function(){o(c)},children:"Reset Inviter"}),bodyClassName:"debug-card__body",children:[(0,w.jsx)(y,{label:"Wallet Type",content:t}),(0,w.jsx)(y,{label:"Wallet Name",content:b()(e="".concat(a,"-")).call(e,i)}),(0,w.jsx)(y,{label:"Blockchain",content:r}),(0,w.jsx)(y,{label:"Inviter",content:s}),(0,w.jsx)(y,{label:"Tron URL",content:l}),(0,w.jsx)(y,{label:"TP URL",content:f})]})}},{key:"debugEvtBtnOnClick",value:function(){(0,L.oR)()}},{key:"renderEventTrigger",value:function(){return(0,w.jsxs)(u.Z,{style:{marginBottom:"12px"},children:[(0,w.jsx)(l.Z,{children:"DApp Events Debbug"}),(0,w.jsx)(o.Z,{wrap:!0,children:(0,w.jsx)(d.Z,{size:"mini",color:"primary",onClick:this.debugEvtBtnOnClick,children:"DApp Reload Init"})})]})}},{key:"render",value:function(){var e=this.props.isDarkTheme,n=(0,k.Rt)("debug-page",{isDarkTheme:e},[]);return(0,w.jsxs)("div",{className:n,children:[this.renderDAppEnvBaseInfo(),this.renderEventTrigger(),(0,w.jsx)(q,{}),(0,w.jsx)(B,{}),(0,w.jsx)(I,{})]})}}]),t}(j.Component),G=t(56036),V=t(65757);const M=(0,r.qC)(i.EN,(0,a.$j)((function(e){var n=e.skinState.isDarkTheme,t=e.dappState.inviter,r=e.wallState,a=r.walletName;return{isDarkTheme:n,walletType:r.walletType,walletName:a,walletVer:r.walletVer,blockchainKey:r.blockchainKey,selectedAccountName:r.selectedAccountName,selectedAddress:r.selectedAddress,inviter:t,nodeUrl:r.nodeUrl,tpNodeUrl:r.tpNodeUrl}}),(function(e){return{resetInviter:function(n){(0,G.bv)(n),e((0,V.u)(""))}}})))(H)},83179:(e,n,t)=>{t.d(n,{Z:()=>w});var r=t(14890),a=t(1442),i=t(55168),s=t(13535),c=t.n(s),o=t(68420),l=t(27344),u=t(90306),d=t(22310),f=t(3362),p=t(67294),v=t(71943),h=t(35925),m=t(56036),x=t(85531),b=t(85893);function j(e){var n=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,f.Z)(e);if(n){var a=(0,f.Z)(this).constructor;t=c()(r,arguments,a)}else t=r.apply(this,arguments);return(0,d.Z)(this,t)}}var k=function(e){(0,u.Z)(t,e);var n=j(t);function t(e){var r;return(0,o.Z)(this,t),(r=n.call(this,e)).state={formLayout:{},layout:"horizontal"},r}return(0,l.Z)(t,[{key:"componentDidMount",value:function(){(0,x.Dy)(),(0,x.rZ)(),(0,x.NK)()}},{key:"componentWillUnmount",value:function(){}},{key:"renderInviter",value:function(){return(0,b.jsx)("div",{className:"deposit-wrapper",children:(0,b.jsx)("div",{className:"deposit-inviter",children:(0,b.jsx)("span",{children:(0,m._8)()})})})}},{key:"render",value:function(){this.props.inviter;return(0,b.jsxs)("div",{className:"deposit-page",children:[this.renderInviter(),(0,b.jsx)(v.t,{}),(0,b.jsx)(h.k,{})]})}}]),t}(p.Component);const w=(0,r.qC)(i.EN,(0,a.$j)((function(e){var n=e.skinState.isDarkTheme,t=e.wallState;t.blockchainKey,t.selectedAddress,t.inviter;return{isDarkTheme:n}}),(function(e){return{}})))(k)}}]);