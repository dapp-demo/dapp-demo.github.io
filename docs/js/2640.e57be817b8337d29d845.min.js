(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[2640],{62640:(n,r,t)=>{var a=t(36558);"undefined"!=typeof window&&void 0===window.tp&&(window.tp=a),n.exports=a},36558:(n,r,t)=>{var a=t(58259),e=t(96963),i={eth:"1",jingtum:"2",moac:"3",eos:"4",enu:"5",bos:"6",iost:"7",cosmos:"8",binance:"9",tron:"10",trx:"10",btc:"11",bsc:"12",dot:"13",kusama:"14",heco:"15",okexchain:"16",oktest:"17",matic:"18",polygon:"18",hsc:"19",oec:"20",subgame:"21",klaytn:"22"},c={1:"eth",2:"jingtum",3:"moac",4:"eos",5:"enu",6:"bos",7:"iost",8:"cosmos",9:"binance",10:"tron",11:"btc",12:"bsc",13:"dot",14:"kusama",15:"heco",16:"okexchain",17:"oktest",18:"matic",19:"hsc",20:"oec",21:"subgame",22:"klaytn"},o=function(n){return n=(n+="").replace(/^\s+|\s+$/g,"").toLowerCase(),i[n]||n},s=function(){var n=parseInt(1e5*Math.random());return"tp_callback_"+(new Date).getTime()+n},u=function(n,r,t){window.TPJSBrigeClient&&window.TPJSBrigeClient.callMessage(n,r,t),window.webkit&&window.webkit.messageHandlers[n].postMessage({body:{params:r,callback:t}})},f={version:"3.7.2",isConnected:function(){return!!(window.TPJSBrigeClient||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getDeviceId)},invokeQRScanner:function(){return new a((function(n,r){var t=s();window[t]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t).qrResult||"";n(a)}catch(n){r(n)}},u("invokeQRScanner","",t)}))},shareNewsToSNS:function(n){var r={title:n.title||"TokenPocket 你的通用数字钱包",description:n.desc||"",url:n.url||"https://www.mytokenpocket.vip/",previewImage:n.previewImage||""};u("shareNewsToSNS",JSON.stringify(r),"")},getAppInfo:function(){return new a((function(n,r){var t=s();window[t]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t);n(a)}catch(n){r(n)}},u("getAppInfo","",t)}))},getDeviceId:function(){return new a((function(n,r){var t=s();window[t]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t);a.device_id&&(a.data=a.device_id),n(a)}catch(n){r(n)}},u("getDeviceId","",t)}))},getWalletList:function(n){if(!(n=o(n)))throw new Error("type invalid");var r={type:n};return new a((function(n,t){var a=s();window[a]=function(r){r=r.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(r);n(a)}catch(n){t(n)}},u("getWalletList",JSON.stringify(r),a)}))},getWallets:function(){return new a((function(n,r){var t=s();window[t]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t);if(a.data&&a.data.length)for(var e=0;e<a.data.length;e++)a.data[e].blockchain=c[a.data[e].blockchain_id+""]||a.data[e].blockchain_id;n(a)}catch(n){r(n)}},u("getWallets","",t)}))},getCurrentWallet:function(){return new a((function(n,r){var t=s();window[t]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t);a.rawTransaction&&(a.data=a.rawTransaction),a.data&&a.data.blockchain_id&&(a.data.blockchain=c[a.data.blockchain_id+""]||a.data.blockchain_id),n(a)}catch(n){r(n)}},u("getCurrentWallet","",t)}))},sign:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("sign",JSON.stringify(n),a)}))},back:function(){u("back","","")},fullScreen:function(n){u("fullScreen",JSON.stringify(n),"")},setMenubar:function(n){u("setMenubar",JSON.stringify(n),"")},close:function(){u("close","","")},importWallet:function(n){if(!(n=o(n)))throw new Error("type invalid");var r={blockChainId:n};u("importWallet",JSON.stringify(r),"")},startChat:function(n){n.blockchain&&(n.blockChainId=o(n.blockchain),delete n.blockchain),u("startChat",JSON.stringify(n),"")},getNodeUrl:function(n){return n.blockchain&&(n.blockChainId=o(n.blockchain),delete n.blockchain),new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);a.data&&a.data.blockChainId&&(a.blockchain=c[a.data.blockChainId+""]||a.data.blockChainId),r(a)}catch(n){t(n)}},u("getNodeUrl",JSON.stringify(n),a)}))},saveImage:function(n){u("saveImage",JSON.stringify(n),"")},rollHorizontal:function(n){u("rollHorizontal",JSON.stringify(n),"")},popGestureRecognizerEnable:function(n){u("popGestureRecognizerEnable",JSON.stringify(n),"")},forwardNavigationGesturesEnable:function(n){u("forwardNavigationGesturesEnable",JSON.stringify(n),"")},eosTokenTransfer:function(n){if(!(n.from&&n.to&&n.amount&&n.contract&&n.precision))throw new Error('missing params; "from", "to", "amount", "contract", "precision" is required ');return n.amount=""+n.amount,new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);a.result&&!a.data.transactionId&&(a.data={transactionId:a.data}),r(a)}catch(n){t(n)}},u("eosTokenTransfer",JSON.stringify(n),a)}))},pushEosAction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);a.result&&!a.data.transactionId&&(a.data={transactionId:a.data}),r(a)}catch(n){t(n)}},u("pushEosAction",JSON.stringify(n),a)}))},getEosBalance:function(n){if(!n.account||!n.contract||!n.symbol)throw new Error('missing params; "account", "contract", "symbol" is required ');return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEosBalance",JSON.stringify(n),a)}))},getTableRows:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getTableRows",JSON.stringify(n),a)}))},getEosTableRows:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEosTableRows",JSON.stringify(n),a)}))},getEosAccountInfo:function(n){if(!n.account)throw new Error('missing params; "account" is required ');return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEosAccountInfo",JSON.stringify(n),a)}))},getEosTransactionRecord:function(n){if(!n.account)throw new Error('missing params; "account" is required ');return n.count=n.count?+n.count:10,n.start=n.start?+n.start:0,new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEosTransactionRecord",JSON.stringify(n),a)}))},eosAuthSign:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("eosAuthSign",JSON.stringify(n),a)}))},enuTokenTransfer:function(n){if(!(n.from&&n.to&&n.amount&&n.tokenName&&n.contract&&n.precision))throw new Error('missing params; "from", "to", "amount", "tokenName","contract", "precision" is required ');return n.amount=""+n.amount,new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);a.result&&!a.data.transactionId&&(a.data={transactionId:a.data}),r(a)}catch(n){t(n)}},u("enuTokenTransfer",JSON.stringify(n),a)}))},pushEnuAction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);a.result&&!a.data.transactionId&&(a.data={transactionId:a.data}),r(a)}catch(n){t(n)}},u("pushEnuAction",JSON.stringify(n),a)}))},getEnuBalance:function(n){if(!n.account||!n.contract||!n.symbol)throw new Error('missing params; "account", "contract", "symbol" is required ');return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEnuBalance",JSON.stringify(n),a)}))},getEnuTableRows:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEnuTableRows",JSON.stringify(n),a)}))},getEnuAccountInfo:function(n){if(!n.account)throw new Error('missing params; "account" is required ');return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEnuAccountInfo",JSON.stringify(n),a)}))},getEnuTransactionRecord:function(n){if(!n.account)throw new Error('missing params; "account" is required ');return n.count=n.count?+n.count:10,n.start=n.start?+n.start:0,new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("getEnuTransactionRecord",JSON.stringify(n),a)}))},pushMoacTransaction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("pushMoacTransaction",JSON.stringify(n),a)}))},moacTokenTransfer:function(n){if(!(n.from&&n.to&&n.amount&&n.gasLimit&&n.tokenName))throw new Error('missing params; "from", "to", "amount", "gasLimit", "tokenName" is required ');if(n.contract&&!n.decimal)throw new Error('missing params; "decimal" is required ');return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("moacTokenTransfer",JSON.stringify(n),a)}))},sendMoacTransaction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("sendMoacTransaction",JSON.stringify(n),a)}))},sendEthTransaction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("sendEthTransaction",JSON.stringify(n),a)}))},signMoacTransaction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("signMoacTransaction",JSON.stringify(n),a)}))},signEthTransaction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("signEthTransaction",JSON.stringify(n),a)}))},signCosmosTransaction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("signCosmosTransaction",JSON.stringify(n),a)}))},cosmosArbitrarySignature:function(n,r){var t={address:n,data:r};return new a((function(n,r){var a=s();window[a]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t);n(a)}catch(n){r(n)}},u("cosmosArbitrarySignature",JSON.stringify(t),a)}))},signJingtumTransaction:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("signJingtumTransaction",JSON.stringify(n),a)}))},signOkexchainTransaction:function(n,r){return new a((function(t,a){var i=s();window[i]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var r=JSON.parse(n);r.result&&r.data&&r.data.signatures&&es.data.signatures.forEach((function(n){n.signature=n.signature&&e.from(n.signature),n.pub_key.value=n.pub_key.value&&e.from(n.pub_key.value)})),t(r)}catch(n){a(n)}};var c={tx:n,from:r};u("signOkexchainTransaction",JSON.stringify(c),i)}))},getCurrentBalance:function(){return new a((function(n,r){var t=s();window[t]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t);n(a)}catch(n){r(n)}},u("getCurrentBalance","",t)}))},btcTokenTransfer:function(n){if(!n.from||!n.to||!n.amount)throw new Error('missing params; "from", "to", "amount" is required ');return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("btcTokenTransfer",JSON.stringify(n),a)}))},usdtTokenTransfer:function(n){if(!n.from||!n.to||!n.amount)throw new Error('missing params; "from", "to", "amount" is required ');return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("usdtTokenTransfer",JSON.stringify(n),a)}))},getUsdtAddress:function(){return new a((function(n,r){var t=s();window[t]=function(t){t=t.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(t);n(a)}catch(n){r(n)}},u("getUsdtAddress","",t)}))},getWallet:function(n){return n.walletTypes&&n.walletTypes.length?n.walletTypes=n.walletTypes.map((function(n){return i[n.toLowerCase()]||n})):n.walletTypes=[],void 0===n.switch&&(n.switch=!0),new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);a.data&&a.data.blockchain_id&&(a.data.blockchain=c[a.data.blockchain_id+""]||a.data.blockchain_id),r(a)}catch(n){t(n)}},u("getWallet",JSON.stringify(n),a)}))},addDAppToDiscover:function(n){return new a((function(r,t){var a=s();window[a]=function(n){n=n.replace(/\r/gi,"").replace(/\n/gi,"");try{var a=JSON.parse(n);r(a)}catch(n){t(n)}},u("addDAppToDiscover",JSON.stringify(n),a)}))}};n.exports=f}}]);