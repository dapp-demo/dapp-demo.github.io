(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[4673],{25692:(e,t,n)=>{"use strict";n.d(t,{wP:()=>u});var r=n(33938),a=n(63109),s=n.n(a),i=(n(34642),n(11770),n(4815)),o=n(75626),c=n(5312),l=n(90364);n(25108);function u(e){(0,i.GU)({}).then((function(t){return null!==t&&(e((0,l.MA)(t.tpConnected)),t.tp)})).then(function(){var t=(0,r.Z)(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,i.tC)(n);case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e((0,c.c1)(t.t0,o.p8));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e((0,c.c1)(t,o.p8))}))}},59188:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});n(67294);var r=n(55168),a=n(85893);function s(e){(0,r.k6)();return(0,a.jsx)("div",{children:(0,a.jsx)("h1",{children:"Test"})})}},97363:(e,t,n)=>{"use strict";n.d(t,{R:()=>E});var r=n(33938),a=n(45567),s=n(63109),i=n.n(s),o=n(67294),c=n(85518),l=n(82100),u=n(55168),d=n(17563),p=n(3666),h=n(96934),f=n(56764),v=n(93806),b=n(5562),m=n(50047),w=n.n(m),x=n(8803),y=n(28850),k=n(79949),j=[{label:"Home",pathname:"/index",icon:"brave-index-colorful"},{label:"Deposit",pathname:"/p/deposit",icon:"brave-deposit"},{label:"Invite",pathname:"/p/invite",icon:"brave-invite"}],P=n(82240),g=n(74855),Z=n(90911),N=n(85893);function S(e){var t=e.className,n=void 0===t?"":t,r=(e.hasProvider,e.braveIconType),s=void 0===r?"":r,i=(0,o.useState)("0"),c=(0,a.Z)(i,2),u=c[0],d=c[1],p=(0,l.v9)((function(e){return e.wallState})),h=p.selectedAddress,v=p.blockchainKey,b=(0,l.v9)((function(e){return e.balState||{}})),m=(b.trxBalance,b.bfbBalance);return(0,o.useEffect)((function(){var e=m&&m.toString?m.toString():"0",t=(0,Z.Pj)(e,{blockchainKey:v});d(t)}),[m]),(0,N.jsxs)("div",{className:"brv-popupbar ".concat(n),children:[(0,N.jsx)("div",{className:"brv-popupbar-icon",children:s&&(0,N.jsx)(y.Z,{type:"brave-".concat(s)})}),(0,N.jsxs)("div",{className:"brv-popupbar-acclayout",children:[(0,N.jsx)("span",{className:"balance-valt",children:u}),(0,N.jsxs)("div",{className:"address-row",children:[(0,N.jsx)("span",{className:"address-short",children:h?(0,f.VE)(h):"No account"}),h&&(0,N.jsx)(g.CopyToClipboard,{text:h,onCopy:function(){P.Z.show({content:"copied",duration:1500})},children:(0,N.jsx)(y.Z,{type:"brave-copy-colorful",style:{marginLeft:"4px"}})})]})]})]})}function T(e){var t=e.popupClassName,n=void 0===t?"":t,s=(0,u.k6)(),d=(0,u.TH)(),p=(0,o.useState)(!1),m=(0,a.Z)(p,2),P=m[0],g=m[1],Z=(0,o.useState)(!1),T=(0,a.Z)(Z,2),A=T[0],L=T[1],C=(0,l.v9)((function(e){return e.skinState})),B=C.isDarkTheme,_=C.debugActived;function W(){return(W=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!P);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.BS&&_&&L(!0),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[_]);var D=(0,f.Rt)(n&&"string"==typeof n?n:"brv-side-popuper",{isBrowser:c.jU,isMobile:c.tq},[B?"dark-specil-popup":"light-specil-popup"]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(x.Z,{fontSize:18,onClick:function(){return W.apply(this,arguments)}}),(0,N.jsxs)(v.Z,{visible:P,position:"left",bodyClassName:D,onMaskClick:function(){return g(!1)},bodyStyle:{width:c.jU?"45vw":"62.5vw"},children:[(0,N.jsx)(S,{className:"brv-side__head",braveIconType:"bf"}),(0,N.jsx)("div",{className:"brv-menus",children:(0,N.jsxs)(b.Z,{className:"brv-navmenu-list",children:[w()(j).call(j,(function(e){return(0,N.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,N.jsx)(y.Z,{type:e.icon}),onClick:function(){g(!1),d.pathname!==e.pathname&&s.push(e.pathname)},arrow:!1,children:(0,N.jsx)("span",{className:d.pathname===e.pathname?"nav-menu-actived":"",children:e.label})},e.pathname)})),A&&(0,N.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,N.jsx)(y.Z,{type:"brave-debug"}),onClick:function(){g(!1),"/debug"!==d.pathname&&s.push("/debug")},arrow:!1,children:(0,N.jsx)("span",{className:"/debug"===d.pathname?"nav-menu-actived":"",children:"Debug"})},"/debug"),(0,N.jsx)(k.R,{})]})})]})]})}var A=n(79922);function L(e){var t=e.size,n=void 0===t?36:t,r=(0,u.k6)();return(0,N.jsx)("div",{className:"brv-head__logo",children:(0,N.jsx)("img",{src:A,fit:"cover",width:n,height:n,onClick:function(){r.push("/index")}})})}var C=n(13305),B=n(56036),_=n(65757),W=n(5312),D=n(25108);function E(e){var t=(0,u.TH)(),n=(0,l.I0)(),s=(0,o.useState)(h.xw),v=(0,a.Z)(s,2),b=v[0],m=v[1],w=(0,f.Rt)("brv-head",{isBrowser:c.jU,isMobile:c.tq}),x=(0,l.v9)((function(e){return e.skinState.head||{}})).headTitle,y=(0,l.v9)((function(e){return e.wallState})).selectedAddress;return(0,o.useEffect)((0,r.Z)(i().mark((function e(){var r,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y,window.tronWeb&&window.tronWeb.defaultAddress&&window.tronWeb.defaultAddress.base58&&!r&&(r=window.tronWeb.defaultAddress.base58),m(x),D.log(">>>Parse Params>>>>",t.search,r),t.search&&("actived"===(a=d.parse(t.search)).debug&&n((0,C.s2)(!0)),s=(0,B._8)(r),a.inviter&&(0,p.isAddress)(a.inviter)?(s=(0,B.Xi)(a.inviter,r),n((0,_.u)(s))):a.inviter&&!(0,p.isAddress)(a.inviter)?n((0,W.wE)("Inviter address ".concat(a.inviter," illegal."))):n((0,_.u)(s))),e.abrupt("return",(function(){}));case 6:case"end":return e.stop()}}),e)}))),[x]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:w,children:[(0,N.jsx)("div",{className:"brv-head__left",children:(0,N.jsx)(L,{size:36})}),(0,N.jsx)("div",{className:"brv-head__title",children:b}),(0,N.jsx)("div",{className:"brv-head__right",children:(0,N.jsx)(T,{})})]})})}},58900:(e,t,n)=>{"use strict";var r=n(73935),a=n(13535),s=n.n(a),i=n(82240),o=n(68420),c=n(27344),l=n(90306),u=n(22310),d=n(3362),p=n(54579),h=n.n(p),f=n(67294),v=n(82100),b=n(73727),m=n(59731),w=n(92179),x=n(82490),y=n(33938),k=n(63109),j=n.n(k),P=n(85518),g=n(34642),Z=n(69617),N=n(11089),S=n(51319),T=n(79612),A=n(5312),L=n(90364),C=n(4311),B=n(25108);function _(){return _=(0,y.Z)(j().mark((function e(t){var n,r,a,s,i,o,c,l,u;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getStore,n=t.dispatch,e.prev=1,"",window.tronWeb){e.next=7;break}throw r=new N.d("DApp env unfund tronWeb",S.nf),n((0,A.Py)(r)),r;case 7:if(window.tronWeb,n((0,L.O0)(!0)),window.tp&&P.tq&&(0,C.t5)(window.tp).then((function(e){var t=e||{},r=t.walletName,a=t.walletType,s=t.walletVer,i=t.walletChainKey,o=t.selectedAccountName,c=t.selectedAddress;B.log(">TP check resp>>",e),n((0,L.uW)({walletName:r,walletType:a,walletVer:s,walletChainKey:i})),c&&(c,n((0,L.DE)(o,c,"")))})).catch((function(e){B.log(">TP check Fail>>",e)})),!window.tronWeb||!window.tronWeb.request){e.next=13;break}return e.next=13,window.tronWeb.request({method:"tron_requestAccounts"});case 13:if(window.tronWeb.isTronLink&&n((0,L.Y7)("tronLink")),a=window.tronWeb.defaultAddress,s=a.hex,i=a.base58,o=a.name,a.type,s&&i){e.next=19;break}throw c=new N.d("no trx account in your enviroment.",S.yP),n((0,A.Py)(c)),c;case 19:return i,n((0,L.DE)(o,i,s)),l="",e.prev=22,e.next=25,(0,Z.EA)();case 25:u=e.sent,l=u.chainKey,n((0,L.CX)(l)),e.next=34;break;case 30:throw e.prev=30,e.t0=e.catch(22),n((0,A.Py)(e.t0)),e.t0;case 34:(0,g._)().then((function(e){B.log("****>>>>",e);var t=e||{},r=(t.blockchainKey,t.selectedAddress,t.trxBalance),a=t.bfbBalance,s=t.bfbTotalSupply,i=t.bfbPlpTotalSupply,o=t.bfbPLpBalance,c=t.bfbLpTotalSupply,l=t.bfbLpBalance,u=t.PLPPoolTotal,d=t.LPPoolTotal,p=t.myDepositPLPAmount,h=t.myDepositLPAmount,f=t.approval,v=t.ctrl;n((0,T.lw)({trxBalance:r,bfbBalance:a,bfbTotalSupply:s,bfbPlpTotalSupply:i,bfbPLpBalance:o,bfbLpTotalSupply:c,bfbLpBalance:l,PLPPoolTotal:u,LPPoolTotal:d,myDepositPLPAmount:p,myDepositLPAmount:h,approval:f,ctrl:v}))})).catch((function(e){throw n((0,A.wE)(e)),e})),e.next=41;break;case 37:throw e.prev=37,e.t1=e.catch(1),B.log("DApp init load ...",e.t1),e.t1;case 41:case"end":return e.stop()}}),e,null,[[1,37],[22,30]])}))),_.apply(this,arguments)}var W=n(85893),D=n(25108);function E(e){var t=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=s()(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var I=(0,m.lX)(),K=(0,w.Z)(w.E,I);const q=function(e){(0,l.Z)(n,e);var t=E(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).state={},r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){!!K.getState().skinState&&K.getState().skinState.isDarkTheme?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),h()((function(){(function(e){return _.apply(this,arguments)})(K).catch((function(e){D.log(">>>>>>>>>>>>>APP root load fail>>>>>>>",e),i.Z.show({icon:"fail",content:e.message,duration:14500})}))}),3e3)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return(0,W.jsx)(v.zt,{store:K,children:(0,W.jsx)(b.VK,{history:I,children:(0,W.jsx)(x.E,{})})})}}]),n}(f.Component);n(49541);r.render((0,W.jsx)(q,{}),document.getElementById("root"))},79922:(e,t,n)=>{"use strict";e.exports=n.p+"50f836e9bc474700b507.png"},46601:()=>{},89214:()=>{}}]);