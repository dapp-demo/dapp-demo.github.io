"use strict";(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[5453],{11770:(n,t,e)=>{e.d(t,{mn:()=>x});var r=e(33938),a=e(63109),c=e.n(a),s=e(88066),u=e.n(s),o=e(88742),i=e.n(o),p=e(44721),f=e.n(p),l=e(24381),d=e(51319),h=e(79823),w=function(n){var t,e=(0,h.Sm)(h.uJ,n);if(!e)throw new l.ZP(u()(t="Contract ".concat(h.uJ," unset address at ")).call(t,n),d.cu);return e},v=function(){var n=(0,r.Z)(c().mark((function n(t,e){var r,a,s,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=w(e),n.next=4,i()(r=t.contract()).call(r,a);case 4:return s=n.sent,n.abrupt("return",s);case 8:if(n.prev=8,n.t0=n.catch(0),"string"!=typeof n.t0||!f()(n.t0).call(n.t0,"Unknown error")){n.next=14;break}throw new Error(u()(o="Unfund PLP instance [".concat(address,"] at chain ")).call(o,chainkey));case 14:throw n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t,e){return n.apply(this,arguments)}}(),x=function(){var n=(0,r.Z)(c().mark((function n(t,e){var r,a,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(t,e);case 2:return r=n.sent,n.next=5,r.GetReward().call();case 5:return a=n.sent,n.next=8,r.__expireTime().call();case 8:return s=n.sent,n.abrupt("return",{PLPPoolTotal:a[0],LPPoolTotal:a[1],parentReward:a[2],bfbReward:a[3],pBonus:a[4],bfbBonus:a[5],expireTime:s&&s.toNumber?s.toNumber():0});case 10:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},79823:(n,t,e)=>{e.d(t,{Ph:()=>o,uJ:()=>f,Gt:()=>l,rt:()=>d,iE:()=>h,d6:()=>w,Sm:()=>Z});var r,a,c,s=e(44845),u=e(16430),o="BFB_TOKEN",i="BFB_LP_TOKEN",p="PARENT_LP_TOKEN",f="BFB_MINING_CONTRACT",l="XMFI_LP_POOL_ADDR_V2",d="XMFI_LP_SC_KEY_V2",h="BFB_LP_POOL_ADDR_V2",w="BFB_DEPOSIT_SC_KEY_V2",v=(r={},(0,s.Z)(r,o,"TVghvA1wV7RNgSSUKjQMdMJmHSG4CYtVzV"),(0,s.Z)(r,p,"TRPNFuiEBiUQBYEAEUE991Lvv5oR73k1Lv"),(0,s.Z)(r,i,"TYUiRUrpg9yBuqQh7LMH8u7Gommp7ahhZq"),(0,s.Z)(r,f,"TS2WP4c8i5cKhS1kk8rCeL5XtB8nq5DwSn"),(0,s.Z)(r,d,"TLr2J7d7SwEEVbHHu4yB28g2AXccghKiyg"),(0,s.Z)(r,l,"TMA3GWGHhGYvmWPKfNAs2mu13UNXXsHbRG"),(0,s.Z)(r,w,""),(0,s.Z)(r,h,""),r),x=(a={},(0,s.Z)(a,o,"TR87nviRLyneJTXiTVX3QwzB1J4RR9v4ZS"),(0,s.Z)(a,p,""),(0,s.Z)(a,i,""),(0,s.Z)(a,f,""),(0,s.Z)(a,l,""),(0,s.Z)(a,d,""),(0,s.Z)(a,h,""),(0,s.Z)(a,w,""),a),P=(c={},(0,s.Z)(c,u.VI,x),(0,s.Z)(c,u.Bl,v),c);function Z(n,t){return P[t]&&P[t][n]?P[t][n]:""}},15338:(n,t,e)=>{e.d(t,{TE:()=>v,_y:()=>P,SK:()=>_});var r=e(33938),a=e(63109),c=e.n(a),s=e(88066),u=e.n(s),o=e(88742),i=e.n(o),p=(e(44721),e(85531)),f=e(68197),l=e(28883),d=e(24381),h=e(69617),w=(e(11770),e(79823),e(54285));function v(n,t){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function n(t,e){var r,a,s,o,l,d,v,x,P,Z;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.EA)();case 2:return s=n.sent,o=s.trxweb,l=s.chainKey,n.next=7,(0,w.ni)(o,l);case 7:return d=n.sent,v=o.address.fromHex(d.address),n.next=11,d.methods.__LpTokenContract().call();case 11:return x=n.sent,n.next=14,i()(r=o.contract()).call(r,x);case 14:return(P=n.sent).Approval().watch((function(n,t){n&&e&&e((0,f.dZ)(n,"Approal to ".concat(v," confirm fail."))),t&&(0,p.Dy)()})),n.next=18,P.approve(v,t).send();case 18:return Z=n.sent,n.abrupt("return",{txHash:Z,bizName:u()(a="Approve to ".concat(v," for XMFi LP[")).call(a,x,"]")});case 20:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function P(n,t,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(c().mark((function n(t,e,r){var a,s,u,o,i,v;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.EA)();case 2:if(a=n.sent,s=a.trxweb,u=a.chainKey,s.isAddress(e)){n.next=7;break}throw new d.ZP("Deposit PLP token required an inviter.");case 7:return n.next=9,(0,w.ni)(s,u);case 9:return(o=n.sent).ev_deposit().watch((function(n,t){n&&r&&r((0,f.dZ)(n,"Deposit transaction confirm fail.")),t&&((0,p.NK)(),(0,p.rZ)())})),i=(0,l.g_)(),n.next=14,o.DepositLPToken(e,t).send({feeLimit:i,shouldPollResponse:!0});case 14:return v=n.sent,n.abrupt("return",{txHash:v,desc:"deposit ".concat(t," PLP token into pool.")});case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(c().mark((function n(t){var e,r,a,s,u,o,i,d,v;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.EA)();case 2:return e=n.sent,r=e.trxweb,a=e.chainKey,s=e.base58,n.next=8,(0,w.ni)(r,a);case 8:return u=n.sent,n.next=11,u.methods.getUserAddr().call();case 11:if(o=n.sent,!((i=o&&o.length>0?o.findIdx((function(n){return r.address.toHex(s)===n})):-1)<0)){n.next=15;break}throw new Error("你当前账号[".concat(s,"]不在可提取列表里"));case 15:return u.ev_withdrawLp().watch((function(n,e){n&&t&&t((0,f.dZ)(n,"Withdraw PLP confirm fail with ".concat(s))),e&&(t&&t((0,f.RZ)(e,"Withdraw PLP confirm success")),(0,p.rZ)(),(0,p.NK)(),p.qM)})),d=(0,l.g_)(),n.next=19,u.WithdrawAll(i).send({feeLimit:d,shouldPollResponse:!0});case 19:return v=n.sent,n.abrupt("return",v);case 21:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},13870:(n,t,e)=>{e.d(t,{vZ:()=>h,gD:()=>w});var r=e(33938),a=e(63109),c=e.n(a),s=e(88066),u=e.n(s),o=e(88742),i=e.n(o),p=e(24381),f=e(51319),l=e(79823),d=function(n){var t,e=(0,l.Sm)(l.Ph,n);if(!e)throw new p.ZP(u()(t="Contract ".concat(l.Ph," unset address at ")).call(t,n),f.cu);return e},h=function(){var n=(0,r.Z)(c().mark((function n(t,e){var r,a,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=d(e),n.next=3,i()(r=t.contract()).call(r,a);case 3:return s=n.sent,n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();function w(n,t,e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function n(t,e,r){var a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(t,e);case 2:return a=n.sent,r||t.defaultAddress.base58,n.abrupt("return",a.balanceOf(r).call());case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);