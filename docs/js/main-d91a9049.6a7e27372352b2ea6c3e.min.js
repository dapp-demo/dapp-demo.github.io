"use strict";(self.webpackChunkimtoken_dapp=self.webpackChunkimtoken_dapp||[]).push([[376],{48989:(e,n,t)=>{t.d(n,{Z:()=>P});var a=t(13535),r=t.n(a),o=t(68420),i=t(27344),s=t(90306),c=t(22310),l=t(3362),u=t(54579),d=t.n(u),p=t(67294),f=t(1442),h=t(73727),v=t(59731),b=t(96252),w=t(82490),m=t(85531),x=t(85893);function y(e){var n=function(){if("undefined"==typeof Reflect||!r())return!1;if(r().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,l.Z)(e);if(n){var o=(0,l.Z)(this).constructor;t=r()(a,arguments,o)}else t=a.apply(this,arguments);return(0,c.Z)(this,t)}}var k=(0,v.lX)(),g=(0,b.Z)(b.E,k);const P=function(e){(0,s.Z)(t,e);var n=y(t);function t(e){var a;return(0,o.Z)(this,t),(a=n.call(this,e)).state={},a}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){!!g.getState().skinState&&g.getState().skinState.isDarkTheme?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),(0,m.y)(g),(0,m.nf)(g),(0,m.BN)(g),(0,m.MW)(g),(0,m.aq)(g),d()((function(){(0,m.oR)()}),3e3),d()((function(){(0,m.NK)(),(0,m.Dy)(),(0,m.qM)()}),6e3)}},{key:"componentWillUnmount",value:function(){(0,m.eA)(),(0,m.oQ)(),(0,m.Xx)(),(0,m.Gr)(),(0,m.bh)()}},{key:"render",value:function(){return(0,x.jsx)(f.zt,{store:g,children:(0,x.jsx)(h.VK,{history:k,children:(0,x.jsx)(w.E,{})})})}}]),t}(p.Component)},85531:(e,n,t)=>{t.d(n,{y:()=>m,eA:()=>x,oR:()=>y,MW:()=>P,Gr:()=>Z,rZ:()=>T,nf:()=>j,oQ:()=>N,qM:()=>B,BN:()=>S,Xx:()=>C,Dy:()=>W,aq:()=>M,bh:()=>U,NK:()=>q});var a=t(22827),r=t(33938),o=t(63109),i=t.n(o),s=t(51445),c=t.n(s),l=t(83987),u=t(11770),d=t(95219),p=t(4857),f=t(79612),h=t(68197),v=t(90364),b=t(34566),w="dapp#init/reload";function m(e){window.addEventListener(w,c()(k).call(k,e))}function x(){window.removeEventListener(w,k)}function y(){window.dispatchEvent(new CustomEvent(w))}function k(){var e=this.dispatch;window.tronWeb?(e&&e((0,v.O0)(!0)),(0,b.e3)(this)):(e&&e((0,h.RZ)("No tron enviroment detected.","DApp initialize loading.")),X("No tron enviroment detected."))}var g="dapp#balance/reload_all";function P(e){window.addEventListener(g,c()(L).call(L,e))}function Z(){window.removeEventListener(g,L)}var T=function(){window.dispatchEvent(new CustomEvent(g,{bubbles:!1}))};function L(e){(0,b.fE)(this)}var A="dapp#account/reload_GetReward";function j(e){window.addEventListener(A,c()(E).call(E,e))}function N(){window.removeEventListener(A,E)}function B(){window.dispatchEvent(new CustomEvent(A))}function E(){return R.apply(this,arguments)}function R(){return(R=(0,r.Z)(i().mark((function e(){var n,t,a,r,o,s,c,d,p,v,b,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.dispatch,e.prev=2,e.next=5,(0,l.EA)();case 5:return t=e.sent,a=t.trxweb,r=t.chainKey,t.tpNodeUrl,t.base58,e.next=12,(0,u.mn)(a,r);case 12:o=e.sent,s=o.PLPPoolTotal,c=o.LPPoolTotal,d=o.parentReward,p=o.bfbReward,v=o.pBonus,b=o.bfbBonus,w=o.expireTime,n((0,f.lw)({PLPPoolTotal:s,LPPoolTotal:c})),n((0,f.l1)(d,p,v,b)),n((0,f.wP)({expireTime:w})),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(2),n&&n((0,h.RZ)(e.t0,"Reload get my rewards.")),X(e.t0&&e.t0.message?e.t0.message:"Reload get my rewards fail.");case 29:case"end":return e.stop()}}),e,this,[[2,25]])})))).apply(this,arguments)}var D="dapp#deposit@reload_ctrl";function S(e){window.addEventListener(D,c()(_).call(_,e))}function C(){window.removeEventListener(D,_)}function W(){window.dispatchEvent(new CustomEvent(D))}function _(){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(i().mark((function e(){var n,t,a,r,o,s,c,u,p,v,b,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.dispatch,e.prev=2,e.next=5,(0,l.EA)();case 5:return t=e.sent,a=t.trxweb,r=t.chainKey,e.next=10,(0,d.z)(a,r);case 10:o=e.sent,s=o.bfbWithDrawPause,c=o.parentWithDrawPause,u=o.approvedAddress,p=o.plpApproval,v=o.lpApproval,b=o.beginTime,w=o.bfbBeginTime,n((0,f.kI)({plpApproval:p,lpApproval:v,approvedAddress:u})),n((0,f.wP)({bfbWithDrawPause:s,parentWithDrawPause:c,beginTime:b,bfbBeginTime:w})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),n&&n((0,h.RZ)(e.t0,"Reload Deposit control fail."));case 25:case"end":return e.stop()}}),e,this,[[2,22]])})))).apply(this,arguments)}var K="dapp@deposit#reload_my_and_total";function M(e){window.addEventListener(K,c()(F).call(F,e))}function U(){window.removeEventListener(K,F)}function q(){window.dispatchEvent(new CustomEvent(K))}function F(e){return z.apply(this,arguments)}function z(){return z=(0,r.Z)(i().mark((function e(n){var t,a,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.dispatch,e.prev=2,e.next=5,(0,l.EA)();case 5:a=e.sent,r=a.trxweb,o=a.chainKey,(0,u.DW)(r,o).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.myDepositLPAmount,a=e.myDepositPLPAmount,r=e.PLPPoolTotal,o=e.LPPoolTotal;t((0,f.lw)({myDepositLPAmount:n,myDepositPLPAmount:a,PLPPoolTotal:r,LPPoolTotal:o}))})).catch((function(e){t&&t((0,h.RZ)(e,"Reload Deposit amount fail."))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t&&t((0,h.RZ)(e.t0,"Reload Deposit amount fail."));case 14:case"end":return e.stop()}}),e,this,[[2,11]])}))),z.apply(this,arguments)}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.Z.show({icon:"fail",content:e,duration:p.e6})}},34566:(e,n,t)=>{t.d(n,{dy:()=>M,e3:()=>F,fE:()=>z});var a=t(89356),r=t.n(a),o=t(63263),i=t.n(o),s=t(30699),c=t.n(s),l=t(58377),u=t.n(l),d=t(28834),p=t.n(d),f=t(13038),h=t.n(f),v=t(32752),b=t.n(v),w=t(44341),m=t.n(w),x=t(44845),y=t(33938),k=t(88066),g=t.n(k),P=t(63109),Z=t.n(P),T=t(13870),L=t(83987),A=t(15338),j=t(27897),N=t(11770),B=t(75626),E=t(46227),R=t(79612),D=t(90364),S=t(68197),C=t(96934),W=t(25155),_=t(25108);function I(e,n){var t=r()(e);if(i()){var a=i()(e);n&&(a=c()(a).call(a,(function(n){return u()(e,n).enumerable}))),t.push.apply(t,a)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t,a=null!=arguments[n]?arguments[n]:{};if(n%2)p()(t=I(Object(a),!0)).call(t,(function(n){(0,x.Z)(e,n,a[n])}));else if(h())b()(e,h()(a));else{var r;p()(r=I(Object(a))).call(r,(function(n){m()(e,n,u()(a,n))}))}}return e}function M(e){return U.apply(this,arguments)}function U(){return(U=(0,y.Z)(Z().mark((function e(n){var t,a,r,o,i,s,c,l,u,d,p,f,h,v,b,w,m;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={connected:!1},!(a=(0,E.Fx)())){e.next=12;break}return t.connected=Boolean(a),e.next=6,(0,E.t5)(window.tp);case 6:r=e.sent,i=(o=r||{}).walletName,s=o.walletType,c=o.walletVer,l=o.walletChainKey,u=o.selectedAccountName,d=o.selectedAddress,n((0,D.uW)({walletName:i,walletType:s,walletVer:c,walletChainKey:l})),d&&(p=trxweb.address.toHex(d),n((0,D.DE)(u||"",d,p))),e.next=14;break;case 12:tronWeb.request({method:"tron_requestAccounts"}).then((function(e){t.connected=!(!e||200!==e.code),n((0,D.MA)(t.connected))})),tronWeb.isConnected().then((function(e){n((0,S.RZ)(e))}));case 14:if(window.tronWeb.isTronLink&&(t.walletType=B.pX,n((0,D.Y7)("tronLink")),n((0,D.hb)(B.pX))),!tronWeb.defaultAddress||!tronWeb.defaultAddress.base58){e.next=25;break}return f=tronWeb.defaultAddress,h=f.base58,v=f.name,b=f.hex,f.type,h&&n((0,D.DE)(v,h,b)),e.next=20,tronWeb.trx.getBalance(h);case 20:w=e.sent,n((0,R.IP)(w)),m=window.tronWeb.fullNode&&window.tronWeb.fullNode.host?window.tronWeb.fullNode.host:"",n((0,D.Eo)(m)),t=K(K({},t),{},{base58:h,name:v,trxBalance:w,nodeUrl:m});case 25:return e.abrupt("return",t);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=(0,y.Z)(Z().mark((function e(n){var t,a,r,o,i,s,c;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.EA)();case 2:return t=e.sent,a=t.trxweb,r=t.chainKey,o=t.tpNodeUrl,n((0,D.CX)(r)),n((0,D.My)(o)),i=a.fullNode&&a.fullNode.host?a.fullNode.host:"current no nodeURL",C.BS&&((s={tpNodeUrl:o,cacheCurrNodeUrl:i}).defaultAddress=a.defaultAddress||"",n((0,S.RZ)(s,"This an debug Message."))),e.next=12,(0,N.r0)(a,r);case 12:c=e.sent,(0,T.sy)(a,c).then((function(e){var t=e||{},a=t.bfbBalance,r=t.bfbTotalSupply,o=t.bfbTokenAddress;n((0,R.lw)({bfbBalance:a,bfbTotalSupply:r})),n((0,W.Fl)(o))})).catch((function(e){var t;n((0,S.RZ)(e,g()(t="load BFB balance fail. at chain ".concat(r," - ")).call(t,i)))})),(0,A._K)(a,c).then((function(e){var t=e||{},a=t.bfbPlpTotalSupply,r=t.bfbPLpBalance,o=t.plpTokenAddress;n((0,R.lw)({bfbPlpTotalSupply:a,bfbPLpBalance:r})),n((0,W.qc)(o))})).catch((function(e){n((0,S.RZ)(e,"load PLP Token info fail,chain ".concat(r)))})),(0,j.Qt)(a,c).then((function(e){var t=e||{},a=t.bfbLpTotalSupply,r=t.bfbLpBalance,o=t.lpTokenAddress;n((0,R.lw)({bfbLpTotalSupply:a,bfbLpBalance:r})),n((0,W.r2)(o))})).catch((function(e){n((0,S.RZ)(e,"load BFB LP info fail ,chain ".concat(r)))})),(0,N.Uj)(a,c).then((function(e){var t=e||{},a=t.PLPPoolTotal,r=t.LPPoolTotal;n((0,R.lw)({PLPPoolTotal:a,LPPoolTotal:r}))})).catch((function(e){n((0,S.RZ)(e,"load Deposit Mining info fail,chain ".concat(r)))}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){var n=e.dispatch;M(n).then((function(e){return _.log(">>initialTrxBase>>>>",e)})).catch((function(e){n((0,S.RZ)(e,"Load DApp Trx Base fail."))})),function(e){return q.apply(this,arguments)}(n).catch((function(e){n((0,S.RZ)(e,"Load DApp Biz Base fail."))}))}function z(e){return X.apply(this,arguments)}function X(){return X=(0,y.Z)(Z().mark((function e(n){var t,a,r,o,i,s,c,l,u,d,p,f,h,v;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(t=n||{}).dispatch,r=t.getState,e.prev=1,"function"==typeof a&&"function"==typeof r){e.next=4;break}throw new Error("params store illegal");case 4:return o=r().solState,i=o.bfbTokenAddress,s=void 0===i?"":i,c=o.plpTokenAddress,l=void 0===c?"":c,u=o.lpTokenAddress,d=void 0===u?"":u,e.next=7,(0,L.EA)();case 7:return p=e.sent,f=p.trxweb,h=p.chainKey,p.tpNodeUrl,e.next=13,(0,N.r0)(f,h);case 13:v=e.sent,(0,T.Vx)(f,{bfbTokenAddress:s,miningInst:v}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bfbBalance;void 0!==n&&a((0,R.lw)({bfbBalance:n}))})).catch((function(e){a((0,S.RZ)(e,"load BFB balance fail"))})),(0,A.IA)(f,{plpTokenAddress:l,miningInst:v}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bfbPLpBalance;void 0!==n&&a((0,R.lw)({bfbPLpBalance:n}))})).catch((function(e){a((0,S.RZ)(e,"load BFB balance fail"))})),(0,j.Kr)(f,{lpTokenAddress:d,miningInst:v}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bfbLpBalance;void 0!==n&&a((0,R.lw)({bfbLpBalance:n}))})).catch((function(e){a((0,S.RZ)(e,"load LP balance fail"))})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),a((0,S.RZ)(e.t0,"reload balance fail"));case 22:case"end":return e.stop()}}),e,null,[[1,19]])}))),X.apply(this,arguments)}},59188:(e,n,t)=>{t.d(n,{d:()=>o});t(67294);var a=t(55168),r=t(85893);function o(e){(0,a.k6)();return(0,r.jsx)("div",{children:(0,r.jsx)("h1",{children:"Test"})})}},97363:(e,n,t)=>{t.d(n,{R:()=>S});var a=t(33938),r=t(45567),o=t(63109),i=t.n(o),s=t(67294),c=t(85518),l=t(1442),u=t(55168),d=t(17563),p=t(3666),f=t(96934),h=t(25117),v=t(93806),b=t(5562),w=t(50047),m=t.n(w),x=t(8803),y=t(28850),k=t(79949),g=[{label:"Home",pathname:"/index",icon:"brave-index-colorful"},{label:"Deposit",pathname:"/p/deposit",icon:"brave-deposit"},{label:"Invite",pathname:"/p/invite",icon:"brave-invite"},{label:"Profile",pathname:"/p/profile",icon:"brave-bfb_pool"}],P=t(22827),Z=t(74855),T=t(85893);function L(e){var n=e.className,t=void 0===n?"":n,a=(e.hasProvider,e.braveIconType),o=void 0===a?"":a,i=(0,s.useState)("0"),c=(0,r.Z)(i,2),u=c[0],d=c[1],p=(0,l.v9)((function(e){return e.wallState})),f=p.selectedAddress,v=(p.blockchainKey,(0,l.v9)((function(e){return e.balState||{}}))),b=(v.trxBalance,v.bfbBalance);return(0,s.useEffect)((function(){var e=(0,h.x6)(b||0);d(e)}),[b]),(0,T.jsxs)("div",{className:"brv-popupbar ".concat(t),children:[(0,T.jsx)("div",{className:"brv-popupbar-icon",children:o&&(0,T.jsx)(y.Z,{type:"brave-".concat(o)})}),(0,T.jsxs)("div",{className:"brv-popupbar-acclayout",children:[(0,T.jsx)("span",{className:"balance-valt",children:u}),(0,T.jsxs)("div",{className:"address-row",children:[(0,T.jsx)("span",{className:"address-short",children:f?(0,h.VE)(f):"No account"}),f&&(0,T.jsx)(Z.CopyToClipboard,{text:f,onCopy:function(){P.Z.show({content:"copied",duration:1500})},children:(0,T.jsx)(y.Z,{type:"brave-copy-colorful",style:{marginLeft:"4px"}})})]})]})]})}function A(e){var n=e.popupClassName,t=void 0===n?"":n,o=(0,u.k6)(),d=(0,u.TH)(),p=(0,s.useState)(!1),w=(0,r.Z)(p,2),P=w[0],Z=w[1],A=(0,s.useState)(!1),j=(0,r.Z)(A,2),N=j[0],B=j[1],E=(0,l.v9)((function(e){return e.skinState})),R=E.isDarkTheme,D=E.debugActived;function S(){return(S=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!P);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,s.useEffect)((0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.BS&&D&&B(!0),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[D]);var C=(0,h.Rt)(t&&"string"==typeof t?t:"brv-side-popuper",{isBrowser:c.jU,isMobile:c.tq},[R?"dark-specil-popup":"light-specil-popup"]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.Z,{fontSize:18,onClick:function(){return S.apply(this,arguments)}}),(0,T.jsxs)(v.Z,{visible:P,position:"left",bodyClassName:C,onMaskClick:function(){return Z(!1)},bodyStyle:{width:c.jU?"45vw":"62.5vw"},children:[(0,T.jsx)(L,{className:"brv-side__head",braveIconType:"bf"}),(0,T.jsx)("div",{className:"brv-menus",children:(0,T.jsxs)(b.Z,{className:"brv-navmenu-list",children:[m()(g).call(g,(function(e){return(0,T.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,T.jsx)(y.Z,{type:e.icon}),onClick:function(){Z(!1),d.pathname!==e.pathname&&o.push(e.pathname)},arrow:!1,children:(0,T.jsx)("span",{className:d.pathname===e.pathname?"nav-menu-actived":"",children:e.label})},e.pathname)})),N&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,T.jsx)(y.Z,{type:"brave-debug"}),onClick:function(){Z(!1),"/debug"!==d.pathname&&o.push("/debug")},arrow:!1,children:(0,T.jsx)("span",{className:"/debug"===d.pathname?"nav-menu-actived":"",children:"Debug"})},"/debug"),(0,T.jsx)(b.Z.Item,{className:"brv-navmenu-item",prefix:(0,T.jsx)(y.Z,{type:"brave-log"}),onClick:function(){Z(!1),"/debug/log"!==d.pathname&&o.push("/debug/log")},arrow:!1,children:(0,T.jsx)("span",{className:"/debug/log"===d.pathname?"nav-menu-actived":"",children:"Logs"})},"/debug/log")]}),(0,T.jsx)(k.R,{})]})})]})]})}var j=t(79922);function N(e){var n=e.size,t=void 0===n?36:n,a=(0,u.k6)();return(0,T.jsx)("div",{className:"brv-head__logo",children:(0,T.jsx)("img",{src:j,fit:"cover",width:t,height:t,onClick:function(){a.push("/index")}})})}var B=t(13305),E=t(56036),R=t(65757),D=t(68197);function S(e){var n=(0,u.TH)(),t=(0,l.I0)(),o=(0,s.useState)(f.xw),v=(0,r.Z)(o,2),b=v[0],w=(v[1],(0,h.Rt)("brv-head",{isBrowser:c.jU,isMobile:c.tq})),m=(0,l.v9)((function(e){return e.skinState.head||{}})).headTitle,x=(0,l.v9)((function(e){return e.wallState})).selectedAddress,y=function(){var e=(0,a.Z)(i().mark((function e(){var a,r,o,s,c,l,u,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=x,window.tronWeb&&window.tronWeb.defaultAddress&&window.tronWeb.defaultAddress.base58&&(a=window.tronWeb.defaultAddress.base58),r=(0,E._8)(a),n.search&&(o=d.parse(n.search),c=(s=o||{}).debug,l=void 0===c?"":c,u=s.inviter,f=void 0===u?"":u,"actived"===l&&t((0,B.s2)(!0)),!r&&f&&(0,p.isAddress)(f)&&(r=(0,E.Xi)(f,a),t((0,R.u)(r))),f&&"reset"===f&&((0,E.bv)(a),t((0,R.u)("")),(0,D.dZ)("Reset inviter with url search: ".concat(n.search),"reset inviter")),f&&!(0,p.isAddress)(f)&&"reset"!==f&&t((0,D.RZ)("Inviter address ".concat(f," illegal."),"set inviter with url"))),t((0,R.u)(r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[m]),(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:w,children:[(0,T.jsx)("div",{className:"brv-head__left",children:(0,T.jsx)(N,{size:36})}),(0,T.jsx)("div",{className:"brv-head__title",children:b}),(0,T.jsx)("div",{className:"brv-head__right",children:(0,T.jsx)(A,{})})]})})}},79922:(e,n,t)=>{e.exports=t.p+"50f836e9bc474700b507.png"}}]);